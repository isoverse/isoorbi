<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Functionality Guide • isoorbi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functionality Guide">
<meta name="description" content="A detailed guide to isoorbi functionality.
">
<meta property="og:description" content="A detailed guide to isoorbi functionality.
">
<meta property="og:image" content="https://isoorbi.isoverse.org/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">isoorbi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html#show-me-some-code">Quick Start</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/functionality_guide.html">Functionality Guide</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><h6 class="dropdown-header" data-toc-skip>Isoorbi package</h6></li>
    <li><a class="dropdown-item" href="../articles/dual_inlet.html">Dual inlet analysis</a></li>
    <li><a class="dropdown-item" href="../articles/flow_injection.html">Flow injection analysis</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Kantnerová et al. 2024</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.isoverse.org/2024_kantnerova_et_al/shot_noise.html">Shot noise analysis</a></li>
    <li><a class="external-link dropdown-item" href="https://www.isoverse.org/2024_kantnerova_et_al/replicates.html">Replicates analysis</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/isoverse/isoorbi"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Functionality Guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/isoverse/isoorbi/blob/main/vignettes/functionality_guide.Rmd" class="external-link"><code>vignettes/functionality_guide.Rmd</code></a></small>
      <div class="d-none name"><code>functionality_guide.Rmd</code></div>
    </div>

    
    
<blockquote>
<p>This step-by-step functionality guide is still in development.
Eventually all functions in the <a href="https://isoorbi.isoverse.org/index.html#package-structure">package
structure flowchart</a> will be covered with detailed examples. All
functions below labelled with an <code>*</code> are required steps of
the standard data processing flow. Everything else is optional. Rarely
used additional features that are mentioned here but not part of the
standard flowchart are labeled as <code>bonus</code>.</p>
</blockquote>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://isoorbi.isoverse.org/">isoorbi</a></span><span class="op">)</span> <span class="co">#load isoorbi R package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># for mutating data frames</span></span></code></pre></div>
<div class="section level2">
<h2 id="reading-raw-files">Reading raw files<a class="anchor" aria-label="anchor" href="#reading-raw-files"></a>
</h2>
<p>First step is reading in your .raw data files.</p>
<div class="section level3">
<h3 id="orbi_find_raw">
<code>orbi_find_raw()</code><a class="anchor" aria-label="anchor" href="#orbi_find_raw"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># path to your data folder</span></span>
<span><span class="va">data_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># finding raw files with "nitrate" in the name in the data folder</span></span>
<span><span class="va">file_paths</span> <span class="op">&lt;-</span> <span class="va">data_folder</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_find_raw.html">orbi_find_raw</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"nitrate"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># show what was found</span></span>
<span><span class="va">file_paths</span></span></code></pre></div>
<pre><code>[1] "data/nitrate_test_10scans.raw.cache.zip"
[2] "data/nitrate_test_1scan.raw.cache.zip"  </code></pre>
</div>
<div class="section level3">
<h3 id="orbi_read_raw">
<code>orbi_read_raw()</code> *<a class="anchor" aria-label="anchor" href="#orbi_read_raw"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read files (simplest)</span></span>
<span><span class="va">raw_files</span> <span class="op">&lt;-</span> <span class="va">file_paths</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_read_raw.html">orbi_read_raw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[233ms]</span> <span style="font-weight: bold;">orbi_read_raw()</span> read <span style="color: #0000BB;">nitrate_test_10scans.raw</span> from cache
</code></pre>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[50ms]</span> <span style="font-weight: bold;">orbi_read_raw()</span> read <span style="color: #0000BB;">nitrate_test_1scan.raw</span> from cache
</code></pre>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[379ms]</span> <span style="font-weight: bold;">orbi_read_raw()</span> finished reading 2 files
</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read files including some raw spectra</span></span>
<span><span class="va">raw_files</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">file_paths</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># load the spectra from scans 1, 10, and 100</span></span>
<span>  <span class="fu"><a href="../reference/orbi_read_raw.html">orbi_read_raw</a></span><span class="op">(</span>include_spectra <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># you can quiet any call with suppressMessages</span></span>
<span>  <span class="co"># that way it won't print the info message</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># show summary for the files that were read</span></span>
<span><span class="va">raw_files</span></span></code></pre></div>
<pre class="fansi fansi-message"><code>──────────────── <span style="font-weight: bold;">2 raw files - combine with orbi_aggregate_raw()</span> ───────────────
</code></pre>
<pre class="fansi fansi-message"><code>1. <span style="color: #0000BB;">nitrate_test_10scans.raw</span> has 10 <span style="color: #00BB00;">scans</span> with 126 <span style="color: #00BB00;">peaks</span>; + loaded 2 <span style="color: #00BB00;">spectra</span>
(618 points)
2. <span style="color: #0000BB;">nitrate_test_1scan.raw</span>   has  1 <span style="color: #00BB00;">scans</span> with  12 <span style="color: #00BB00;">peaks</span>; + loaded 1 <span style="color: #00BB00;">spectrum</span>
(325 points)
</code></pre>
</div>
<div class="section level3">
<h3 id="orbi_aggregate_data">
<code>orbi_aggregate_data()</code> *<a class="anchor" aria-label="anchor" href="#orbi_aggregate_data"></a>
</h3>
<p>Combine (aggregate) the data from the raw files.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># aggregate raw data</span></span>
<span><span class="va">agg_data</span> <span class="op">&lt;-</span> <span class="va">raw_files</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_aggregate_raw.html">orbi_aggregate_raw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[573ms]</span> <span style="font-weight: bold;">orbi_aggregate_raw()</span> aggregated <span style="color: #0000BB;">file_info</span> (2), <span style="color: #0000BB;">scans</span> (11), <span style="color: #0000BB;">peaks</span>
(138), and <span style="color: #0000BB;">spectra</span> (943) from 2 files using the <span style="font-weight: bold; font-style: italic;">standard</span> aggregator
</code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># shaw all that was recovered</span></span>
<span><span class="co"># (as well as what was ignored/not aggregated)</span></span>
<span><span class="va">agg_data</span></span></code></pre></div>
<pre class="fansi fansi-message"><code>─────── <span style="font-weight: bold;">aggregated data from 2 raw files - retrieve with orbi_get_data()</span> ───────
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">file_info</span> (2): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">filepath</span>, <span style="color: #00BB00;">filename</span>, <span style="color: #00BB00;">creation_date</span>, <span style="color: #00BB00;">in_aquisition</span>,
<span style="color: #00BB00;">Operator</span>, <span style="color: #00BB00;">FileDescription</span>, <span style="color: #00BB00;">MassResolution</span>, <span style="color: #00BB00;">SpectraCount</span>, <span style="color: #00BB00;">FirstSpectrum</span>,
<span style="color: #00BB00;">LastSpectrum</span>, <span style="color: #00BB00;">StartTime</span>, <span style="color: #00BB00;">EndTime</span>, <span style="color: #00BB00;">LowMass</span>, <span style="color: #00BB00;">HighMass</span>, <span style="color: #00BB00;">InstrumentCount</span>,
<span style="color: #00BB00;">InstrumentModel</span>, <span style="color: #00BB00;">InstrumentName</span>, <span style="color: #00BB00;">SerialNumber</span>, <span style="color: #00BB00;">SoftwareVersion</span>,
<span style="color: #00BB00;">HardwareVersion</span>, <span style="color: #00BB00;">RawFileVersion</span>, <span style="color: #00BB00;">InstrumentUnits</span>, <span style="color: #00BB00;">Comment</span>, <span style="color: #00BB00;">SampleId</span>,
<span style="color: #00BB00;">SampleName</span>, <span style="color: #00BB00;">SampleType</span>, <span style="color: #00BB00;">SampleWeight</span>, <span style="color: #00BB00;">SampleVolume</span>, <span style="color: #00BB00;">Barcode</span>, <span style="color: #00BB00;">RowNumber</span>, <span style="color: #00BB00;">Vial</span>,
<span style="color: #00BB00;">InjectionVolume</span>, <span style="color: #00BB00;">DilutionFactor</span>, <span style="color: #00BB00;">IstdAmount</span>, <span style="color: #00BB00;">CalibrationLevel</span>,
<span style="color: #00BB00;">InstrumentMethodFile</span>, <span style="color: #00BB00;">CalibrationFile</span>, <span style="color: #00BB00;">ProcessingMethodFile</span>, <span style="color: #00BB00;">UserText0</span>,
<span style="color: #00BB00;">UserText1</span>, <span style="color: #00BB00;">UserText2</span>, <span style="color: #00BB00;">UserText3</span>, <span style="color: #00BB00;">UserText4</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">scans</span> (11): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">time.min</span>, <span style="color: #00BB00;">tic</span>, <span style="color: #00BB00;">it.ms</span>, <span style="color: #00BB00;">resolution</span>, <span style="color: #00BB00;">microscans</span>,
<span style="color: #00BB00;">basePeakMz</span>, <span style="color: #00BB00;">basePeakIntensity</span>, <span style="color: #00BB00;">lowMass</span>, <span style="color: #00BB00;">highMass</span>, <span style="color: #00BB00;">rawOvFtT</span>, <span style="color: #00BB00;">intensCompFactor</span>,
<span style="color: #00BB00;">agc</span>, <span style="color: #00BB00;">agcTarget</span>, <span style="color: #00BB00;">numberLockmassesFound</span>, <span style="color: #00BB00;">analyzerTemperature</span>; (<span style="font-style: italic;">not aggregated</span>:
<span style="color: #BBBB00; font-style: italic;">IsCentroidScan</span>, <span style="color: #BBBB00; font-style: italic;">ScanType</span>, <span style="color: #BBBB00; font-style: italic;">Scan Description</span>, <span style="color: #BBBB00; font-style: italic;">Multiple Injection</span>, <span style="color: #BBBB00; font-style: italic;">Multi Inject</span>
<span style="color: #BBBB00; font-style: italic;">Info</span>, <span style="color: #BBBB00; font-style: italic;">Scan Segment</span>, <span style="color: #BBBB00; font-style: italic;">Scan Event</span>, <span style="color: #BBBB00; font-style: italic;">Master Index</span>, <span style="color: #BBBB00; font-style: italic;">Master Scan Number</span>, <span style="color: #BBBB00; font-style: italic;">Charge State</span>,
<span style="color: #BBBB00; font-style: italic;">Monoisotopic M/Z</span>, <span style="color: #BBBB00; font-style: italic;">Error in isotopic envelope fit</span>, <span style="color: #BBBB00; font-style: italic;">Max. Ion Time (ms)</span>, <span style="color: #BBBB00; font-style: italic;">MS2</span>
<span style="color: #BBBB00; font-style: italic;">Isolation Width</span>, <span style="color: #BBBB00; font-style: italic;">MS2 Isolation Offset</span>, <span style="color: #BBBB00; font-style: italic;">HCD Energy</span>, <span style="color: #BBBB00; font-style: italic;">HCD Energy V</span>, <span style="color: #BBBB00; font-style: italic;">=== Mass</span>
<span style="color: #BBBB00; font-style: italic;">Calibration: ===</span>, <span style="color: #BBBB00; font-style: italic;">Conversion Parameter B</span>, <span style="color: #BBBB00; font-style: italic;">Conversion Parameter C</span>, <span style="color: #BBBB00; font-style: italic;">Temperature</span>
<span style="color: #BBBB00; font-style: italic;">Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">RF Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">Space Charge Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">Resolution Comp. (ppm)</span>,
<span style="color: #BBBB00; font-style: italic;">Number of Lock Masses</span>, <span style="color: #BBBB00; font-style: italic;">Lock Mass #1 (m/z)</span>, <span style="color: #BBBB00; font-style: italic;">Lock Mass #2 (m/z)</span>, <span style="color: #BBBB00; font-style: italic;">Lock Mass #3</span>
<span style="color: #BBBB00; font-style: italic;">(m/z)</span>, <span style="color: #BBBB00; font-style: italic;">LM Search Window (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">LM Search Window (mmu)</span>, <span style="color: #BBBB00; font-style: italic;">Last Locking (sec)</span>, <span style="color: #BBBB00; font-style: italic;">LM</span>
<span style="color: #BBBB00; font-style: italic;">m/z-Correction (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">=== Ion Optics Settings: ===</span>, <span style="color: #BBBB00; font-style: italic;">S-Lens RF Level</span>, <span style="color: #BBBB00; font-style: italic;">====</span>
<span style="color: #BBBB00; font-style: italic;">Diagnostic Data: ====</span>, <span style="color: #BBBB00; font-style: italic;">Application Mode</span>, <span style="color: #BBBB00; font-style: italic;">Mild Trapping Mode</span>, <span style="color: #BBBB00; font-style: italic;">APD</span>, <span style="color: #BBBB00; font-style: italic;">Res. Dep.</span>
<span style="color: #BBBB00; font-style: italic;">Intens</span>, <span style="color: #BBBB00; font-style: italic;">Q Trans Comp</span>, <span style="color: #BBBB00; font-style: italic;">PrOSA NumF</span>, <span style="color: #BBBB00; font-style: italic;">PrOSA Comp</span>, <span style="color: #BBBB00; font-style: italic;">PrOSA ScScr</span>, <span style="color: #BBBB00; font-style: italic;">Dynamic RT Shift</span>
<span style="color: #BBBB00; font-style: italic;">(min)</span>, <span style="color: #BBBB00; font-style: italic;">Analytical OT usage (%)</span>, <span style="color: #BBBB00; font-style: italic;">LC FWHM parameter</span>, <span style="color: #BBBB00; font-style: italic;">PS Inj. Time (ms)</span>, <span style="color: #BBBB00; font-style: italic;">AGC PS</span>
<span style="color: #BBBB00; font-style: italic;">Mode</span>, <span style="color: #BBBB00; font-style: italic;">AGC PS Diag</span>, <span style="color: #BBBB00; font-style: italic;">AGC Target Adjust</span>, <span style="color: #BBBB00; font-style: italic;">AGC Diag 1</span>, <span style="color: #BBBB00; font-style: italic;">AGC Diag 2</span>, <span style="color: #BBBB00; font-style: italic;">HCD abs. Offset</span>,
<span style="color: #BBBB00; font-style: italic;">Source CID eV</span>, <span style="color: #BBBB00; font-style: italic;">AGC Fill</span>, <span style="color: #BBBB00; font-style: italic;">Injection t0</span>, <span style="color: #BBBB00; font-style: italic;">t0 FLP</span>, <span style="color: #BBBB00; font-style: italic;">Iso Para R</span>, <span style="color: #BBBB00; font-style: italic;">Inj Para R</span>, <span style="color: #BBBB00; font-style: italic;">Access</span>
<span style="color: #BBBB00; font-style: italic;">Id</span>, <span style="color: #BBBB00; font-style: italic;">Analog In A (V)</span>, <span style="color: #BBBB00; font-style: italic;">Analog In B (V)</span>, <span style="color: #BBBB00; font-style: italic;">FAIMS Attached</span>, <span style="color: #BBBB00; font-style: italic;">FAIMS Voltage On</span>, <span style="color: #BBBB00; font-style: italic;">FAIMS</span>
<span style="color: #BBBB00; font-style: italic;">CV</span>)
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">peaks</span> (138): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">mzMeasured</span>, <span style="color: #00BB00;">intensity</span>, <span style="color: #00BB00;">baseline</span>, <span style="color: #00BB00;">peakNoise</span>,
<span style="color: #00BB00;">peakResolution</span>, <span style="color: #00BB00;">isRefPeak</span>, <span style="color: #00BB00;">isLockPeak</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">spectra</span> (943): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">mz</span>, <span style="color: #00BB00;">intensity</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">problems</span>: has <span style="color: #00BB00;">no issues</span>
</code></pre>
<div class="section level4">
<h4 id="bonus-orbi_get_aggregator">bonus <code>orbi_get_aggregator()</code><a class="anchor" aria-label="anchor" href="#bonus-orbi_get_aggregator"></a>
</h4>
<p>You can optionally use a different aggregator. The
<code>minimal</code> aggregator contains a smaller set of columns to
aggregate. The <code>extended</code> aggregator is more elaborate,
providing access to additional columns from the raw data files.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example: minimal vs. extended aggregator</span></span>
<span><span class="fu"><a href="../reference/orbi_aggregator.html">orbi_get_aggregator</a></span><span class="op">(</span><span class="st">"minimal"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code>────────────────────────────── <span style="font-weight: bold;">Aggregator </span><span style="font-weight: bold; font-style: italic;">minimal</span> ──────────────────────────────
</code></pre>
<pre class="fansi fansi-message"><code><span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">file_info</span>:
 → <span style="color: #00BB00;">filename</span> = <span style="font-style: italic;">as.character(sub(FileName, pattern = ".raw", replacement = "",</span>
<span style="font-style: italic;">fixed = TRUE))</span>
 → <span style="color: #00BB00;">creation_date</span> = <span style="font-style: italic;">as.POSIXct(CreationDate)</span>
 → <span style="color: #00BB00;">in_aquisition</span> = <span style="font-style: italic;">as.logical(InAquisition)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">scans</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">time.min</span> = <span style="font-style: italic;">as.numeric(StartTime)</span>
 → <span style="color: #00BB00;">tic</span> = <span style="font-style: italic;">as.numeric(TIC)</span>
 → <span style="color: #00BB00;">it.ms</span> = <span style="font-style: italic;">as.numeric(`Ion Injection Time (ms)`)</span>
 → <span style="color: #00BB00;">resolution</span> = <span style="font-style: italic;">as.numeric(one_of(`FT Resolution`, `Orbitrap Resolution`))</span>
 → <span style="color: #00BB00;">microscans</span> = <span style="font-style: italic;">as.integer(`Micro Scan Count`)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">peaks</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">mzMeasured</span> = <span style="font-style: italic;">as.numeric(mass)</span>
 → <span style="color: #00BB00;">intensity</span> = <span style="font-style: italic;">as.numeric(intensity)</span>
 → <span style="color: #00BB00;">baseline</span> = <span style="font-style: italic;">as.numeric(baseline)</span>
 → <span style="color: #00BB00;">peakNoise</span> = <span style="font-style: italic;">as.numeric(noise)</span>
 → <span style="color: #00BB00;">peakResolution</span> = <span style="font-style: italic;">as.numeric(resolution)</span>
 → <span style="color: #00BB00;">isRefPeak</span> = <span style="font-style: italic;">as.logical(is_ref)</span>
 → <span style="color: #00BB00;">isLockPeak</span> = <span style="font-style: italic;">as.logical(is_lock_peak)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">spectra</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">mz</span> = <span style="font-style: italic;">as.numeric(mass)</span>
 → <span style="color: #00BB00;">intensity</span> = <span style="font-style: italic;">as.numeric(intensity)</span>
</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/orbi_aggregator.html">orbi_get_aggregator</a></span><span class="op">(</span><span class="st">"extended"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code>────────────────────────────── <span style="font-weight: bold;">Aggregator </span><span style="font-weight: bold; font-style: italic;">extended</span> ─────────────────────────────
</code></pre>
<pre class="fansi fansi-message"><code><span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">file_info</span>:
 → <span style="color: #00BB00;">filename</span> = <span style="font-style: italic;">as.character(sub(FileName, pattern = ".raw", replacement = "",</span>
<span style="font-style: italic;">fixed = TRUE))</span>
 → <span style="color: #00BB00;">creation_date</span> = <span style="font-style: italic;">as.POSIXct(CreationDate)</span>
 → <span style="color: #00BB00;">in_aquisition</span> = <span style="font-style: italic;">as.logical(InAquisition)</span>
 → <span style="color: #BB00BB;">(.*)</span> = <span style="font-style: italic;">as.character(all_matches("(.*)"))</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">scans</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">time.min</span> = <span style="font-style: italic;">as.numeric(StartTime)</span>
 → <span style="color: #00BB00;">tic</span> = <span style="font-style: italic;">as.numeric(TIC)</span>
 → <span style="color: #00BB00;">it.ms</span> = <span style="font-style: italic;">as.numeric(`Ion Injection Time (ms)`)</span>
 → <span style="color: #00BB00;">resolution</span> = <span style="font-style: italic;">as.numeric(one_of(`FT Resolution`, `Orbitrap Resolution`))</span>
 → <span style="color: #00BB00;">microscans</span> = <span style="font-style: italic;">as.integer(`Micro Scan Count`)</span>
 → <span style="color: #00BB00;">basePeakMz</span> = <span style="font-style: italic;">as.numeric(BasePeakMass)</span>
 → <span style="color: #00BB00;">basePeakIntensity</span> = <span style="font-style: italic;">as.numeric(BasePeakIntensity)</span>
 → <span style="color: #00BB00;">lowMass</span> = <span style="font-style: italic;">as.numeric(LowMass)</span>
 → <span style="color: #00BB00;">highMass</span> = <span style="font-style: italic;">as.numeric(HighMass)</span>
 → <span style="color: #00BB00;">rawOvFtT</span> = <span style="font-style: italic;">as.numeric(RawOvFtT)</span>
 → <span style="color: #00BB00;">intensCompFactor</span> = <span style="font-style: italic;">as.numeric(`OT Intens Comp Factor`)</span>
 → <span style="color: #00BB00;">agc</span> = <span style="font-style: italic;">as.character(AGC)</span>
 → <span style="color: #00BB00;">agcTarget</span> = <span style="font-style: italic;">as.integer(`AGC Target`)</span>
 → <span style="color: #00BB00;">numberLockmassesFound</span> = <span style="font-style: italic;">as.integer(`Number of LM Found`)</span>
 → <span style="color: #00BB00;">analyzerTemperature</span> = <span style="font-style: italic;">as.numeric(`Analyzer Temperature`)</span>
 → <span style="color: #BB00BB;">(.*)</span> = <span style="font-style: italic;">as.character(all_matches("(.*)"))</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">peaks</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">mzMeasured</span> = <span style="font-style: italic;">as.numeric(mass)</span>
 → <span style="color: #00BB00;">intensity</span> = <span style="font-style: italic;">as.numeric(intensity)</span>
 → <span style="color: #00BB00;">baseline</span> = <span style="font-style: italic;">as.numeric(baseline)</span>
 → <span style="color: #00BB00;">peakNoise</span> = <span style="font-style: italic;">as.numeric(noise)</span>
 → <span style="color: #00BB00;">peakResolution</span> = <span style="font-style: italic;">as.numeric(resolution)</span>
 → <span style="color: #00BB00;">isRefPeak</span> = <span style="font-style: italic;">as.logical(is_ref)</span>
 → <span style="color: #00BB00;">isLockPeak</span> = <span style="font-style: italic;">as.logical(is_lock_peak)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">spectra</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">mz</span> = <span style="font-style: italic;">as.numeric(mass)</span>
 → <span style="color: #00BB00;">intensity</span> = <span style="font-style: italic;">as.numeric(intensity)</span>
</code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># using the extended aggregator instead of the default (standard)</span></span>
<span><span class="va">raw_files</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_aggregate_raw.html">orbi_aggregate_raw</a></span><span class="op">(</span>aggregator <span class="op">=</span> <span class="st">"extended"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[933ms]</span> <span style="font-weight: bold;">orbi_aggregate_raw()</span> aggregated <span style="color: #0000BB;">file_info</span> (2), <span style="color: #0000BB;">scans</span> (11), <span style="color: #0000BB;">peaks</span>
(138), and <span style="color: #0000BB;">spectra</span> (943) from 2 files using the <span style="font-weight: bold; font-style: italic;">extended</span> aggregator
</code></pre>
<pre class="fansi fansi-message"><code>─────── <span style="font-weight: bold;">aggregated data from 2 raw files - retrieve with orbi_get_data()</span> ───────
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">file_info</span> (2): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">filepath</span>, <span style="color: #00BB00;">filename</span>, <span style="color: #00BB00;">creation_date</span>, <span style="color: #00BB00;">in_aquisition</span>,
<span style="color: #00BB00;">Operator</span>, <span style="color: #00BB00;">FileDescription</span>, <span style="color: #00BB00;">MassResolution</span>, <span style="color: #00BB00;">SpectraCount</span>, <span style="color: #00BB00;">FirstSpectrum</span>,
<span style="color: #00BB00;">LastSpectrum</span>, <span style="color: #00BB00;">StartTime</span>, <span style="color: #00BB00;">EndTime</span>, <span style="color: #00BB00;">LowMass</span>, <span style="color: #00BB00;">HighMass</span>, <span style="color: #00BB00;">InstrumentCount</span>,
<span style="color: #00BB00;">InstrumentModel</span>, <span style="color: #00BB00;">InstrumentName</span>, <span style="color: #00BB00;">SerialNumber</span>, <span style="color: #00BB00;">SoftwareVersion</span>,
<span style="color: #00BB00;">HardwareVersion</span>, <span style="color: #00BB00;">RawFileVersion</span>, <span style="color: #00BB00;">InstrumentUnits</span>, <span style="color: #00BB00;">Comment</span>, <span style="color: #00BB00;">SampleId</span>,
<span style="color: #00BB00;">SampleName</span>, <span style="color: #00BB00;">SampleType</span>, <span style="color: #00BB00;">SampleWeight</span>, <span style="color: #00BB00;">SampleVolume</span>, <span style="color: #00BB00;">Barcode</span>, <span style="color: #00BB00;">RowNumber</span>, <span style="color: #00BB00;">Vial</span>,
<span style="color: #00BB00;">InjectionVolume</span>, <span style="color: #00BB00;">DilutionFactor</span>, <span style="color: #00BB00;">IstdAmount</span>, <span style="color: #00BB00;">CalibrationLevel</span>,
<span style="color: #00BB00;">InstrumentMethodFile</span>, <span style="color: #00BB00;">CalibrationFile</span>, <span style="color: #00BB00;">ProcessingMethodFile</span>, <span style="color: #00BB00;">UserText0</span>,
<span style="color: #00BB00;">UserText1</span>, <span style="color: #00BB00;">UserText2</span>, <span style="color: #00BB00;">UserText3</span>, <span style="color: #00BB00;">UserText4</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">scans</span> (11): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">time.min</span>, <span style="color: #00BB00;">tic</span>, <span style="color: #00BB00;">it.ms</span>, <span style="color: #00BB00;">resolution</span>, <span style="color: #00BB00;">microscans</span>,
<span style="color: #00BB00;">basePeakMz</span>, <span style="color: #00BB00;">basePeakIntensity</span>, <span style="color: #00BB00;">lowMass</span>, <span style="color: #00BB00;">highMass</span>, <span style="color: #00BB00;">rawOvFtT</span>, <span style="color: #00BB00;">intensCompFactor</span>,
<span style="color: #00BB00;">agc</span>, <span style="color: #00BB00;">agcTarget</span>, <span style="color: #00BB00;">numberLockmassesFound</span>, <span style="color: #00BB00;">analyzerTemperature</span>, <span style="color: #00BB00;">IsCentroidScan</span>,
<span style="color: #00BB00;">ScanType</span>, <span style="color: #00BB00;">Scan Description</span>, <span style="color: #00BB00;">Multiple Injection</span>, <span style="color: #00BB00;">Multi Inject Info</span>, <span style="color: #00BB00;">Scan</span>
<span style="color: #00BB00;">Segment</span>, <span style="color: #00BB00;">Scan Event</span>, <span style="color: #00BB00;">Master Index</span>, <span style="color: #00BB00;">Master Scan Number</span>, <span style="color: #00BB00;">Charge State</span>,
<span style="color: #00BB00;">Monoisotopic M/Z</span>, <span style="color: #00BB00;">Error in isotopic envelope fit</span>, <span style="color: #00BB00;">Max. Ion Time (ms)</span>, <span style="color: #00BB00;">MS2</span>
<span style="color: #00BB00;">Isolation Width</span>, <span style="color: #00BB00;">MS2 Isolation Offset</span>, <span style="color: #00BB00;">HCD Energy</span>, <span style="color: #00BB00;">HCD Energy V</span>, <span style="color: #00BB00;">=== Mass</span>
<span style="color: #00BB00;">Calibration: ===</span>, <span style="color: #00BB00;">Conversion Parameter B</span>, <span style="color: #00BB00;">Conversion Parameter C</span>, <span style="color: #00BB00;">Temperature</span>
<span style="color: #00BB00;">Comp. (ppm)</span>, <span style="color: #00BB00;">RF Comp. (ppm)</span>, <span style="color: #00BB00;">Space Charge Comp. (ppm)</span>, <span style="color: #00BB00;">Resolution Comp. (ppm)</span>,
<span style="color: #00BB00;">Number of Lock Masses</span>, <span style="color: #00BB00;">Lock Mass #1 (m/z)</span>, <span style="color: #00BB00;">Lock Mass #2 (m/z)</span>, <span style="color: #00BB00;">Lock Mass #3</span>
<span style="color: #00BB00;">(m/z)</span>, <span style="color: #00BB00;">LM Search Window (ppm)</span>, <span style="color: #00BB00;">LM Search Window (mmu)</span>, <span style="color: #00BB00;">Last Locking (sec)</span>, <span style="color: #00BB00;">LM</span>
<span style="color: #00BB00;">m/z-Correction (ppm)</span>, <span style="color: #00BB00;">=== Ion Optics Settings: ===</span>, <span style="color: #00BB00;">S-Lens RF Level</span>, <span style="color: #00BB00;">====</span>
<span style="color: #00BB00;">Diagnostic Data: ====</span>, <span style="color: #00BB00;">Application Mode</span>, <span style="color: #00BB00;">Mild Trapping Mode</span>, <span style="color: #00BB00;">APD</span>, <span style="color: #00BB00;">Res. Dep.</span>
<span style="color: #00BB00;">Intens</span>, <span style="color: #00BB00;">Q Trans Comp</span>, <span style="color: #00BB00;">PrOSA NumF</span>, <span style="color: #00BB00;">PrOSA Comp</span>, <span style="color: #00BB00;">PrOSA ScScr</span>, <span style="color: #00BB00;">Dynamic RT Shift</span>
<span style="color: #00BB00;">(min)</span>, <span style="color: #00BB00;">Analytical OT usage (%)</span>, <span style="color: #00BB00;">LC FWHM parameter</span>, <span style="color: #00BB00;">PS Inj. Time (ms)</span>, <span style="color: #00BB00;">AGC PS</span>
<span style="color: #00BB00;">Mode</span>, <span style="color: #00BB00;">AGC PS Diag</span>, <span style="color: #00BB00;">AGC Target Adjust</span>, <span style="color: #00BB00;">AGC Diag 1</span>, <span style="color: #00BB00;">AGC Diag 2</span>, <span style="color: #00BB00;">HCD abs. Offset</span>,
<span style="color: #00BB00;">Source CID eV</span>, <span style="color: #00BB00;">AGC Fill</span>, <span style="color: #00BB00;">Injection t0</span>, <span style="color: #00BB00;">t0 FLP</span>, <span style="color: #00BB00;">Iso Para R</span>, <span style="color: #00BB00;">Inj Para R</span>, <span style="color: #00BB00;">Access</span>
<span style="color: #00BB00;">Id</span>, <span style="color: #00BB00;">Analog In A (V)</span>, <span style="color: #00BB00;">Analog In B (V)</span>, <span style="color: #00BB00;">FAIMS Attached</span>, <span style="color: #00BB00;">FAIMS Voltage On</span>, <span style="color: #00BB00;">FAIMS</span>
<span style="color: #00BB00;">CV</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">peaks</span> (138): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">mzMeasured</span>, <span style="color: #00BB00;">intensity</span>, <span style="color: #00BB00;">baseline</span>, <span style="color: #00BB00;">peakNoise</span>,
<span style="color: #00BB00;">peakResolution</span>, <span style="color: #00BB00;">isRefPeak</span>, <span style="color: #00BB00;">isLockPeak</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">spectra</span> (943): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">mz</span>, <span style="color: #00BB00;">intensity</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">problems</span>: has <span style="color: #00BB00;">no issues</span>
</code></pre>
</div>
<div class="section level4">
<h4 id="bonus-orbi_register_aggregator">bonus <code>orbi_register_aggregator()</code><a class="anchor" aria-label="anchor" href="#bonus-orbi_register_aggregator"></a>
</h4>
<p>Or even build your own aggregator with
<code><a href="../reference/orbi_aggregator.html">orbi_start_aggregator()</a></code> and/or expand an existing one with
<code>orgi_add_to_aggregator()</code> and then register it via
<code><a href="../reference/orbi_aggregator.html">orbi_register_aggregator()</a></code>. This funnctionality is rarely
needed and thus not part of the package structure flowchart.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_agg</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/orbi_aggregator.html">orbi_get_aggregator</a></span><span class="op">(</span><span class="st">"minimal"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># pull out the S-Lens RF Level information from the scans and store it as a number</span></span>
<span>  <span class="fu"><a href="../reference/orbi_aggregator.html">orbi_add_to_aggregator</a></span><span class="op">(</span><span class="st">"scans"</span>, <span class="st">"slens_rf"</span>, source <span class="op">=</span> <span class="st">"S-Lens RF Level"</span>, cast <span class="op">=</span> <span class="st">"as.numeric"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/orbi_aggregator.html">orbi_register_aggregator</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># show my agg summary</span></span>
<span><span class="va">my_agg</span></span></code></pre></div>
<pre class="fansi fansi-message"><code>────────────────────────────── <span style="font-weight: bold;">Aggregator </span><span style="font-weight: bold; font-style: italic;">minimal</span> ──────────────────────────────
</code></pre>
<pre class="fansi fansi-message"><code><span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">file_info</span>:
 → <span style="color: #00BB00;">filename</span> = <span style="font-style: italic;">as.character(sub(FileName, pattern = ".raw", replacement = "",</span>
<span style="font-style: italic;">fixed = TRUE))</span>
 → <span style="color: #00BB00;">creation_date</span> = <span style="font-style: italic;">as.POSIXct(CreationDate)</span>
 → <span style="color: #00BB00;">in_aquisition</span> = <span style="font-style: italic;">as.logical(InAquisition)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">scans</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">time.min</span> = <span style="font-style: italic;">as.numeric(StartTime)</span>
 → <span style="color: #00BB00;">tic</span> = <span style="font-style: italic;">as.numeric(TIC)</span>
 → <span style="color: #00BB00;">it.ms</span> = <span style="font-style: italic;">as.numeric(`Ion Injection Time (ms)`)</span>
 → <span style="color: #00BB00;">resolution</span> = <span style="font-style: italic;">as.numeric(one_of(`FT Resolution`, `Orbitrap Resolution`))</span>
 → <span style="color: #00BB00;">microscans</span> = <span style="font-style: italic;">as.integer(`Micro Scan Count`)</span>
 → <span style="color: #00BB00;">slens_rf</span> = <span style="font-style: italic;">as.numeric(`S-Lens RF Level`)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">peaks</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">mzMeasured</span> = <span style="font-style: italic;">as.numeric(mass)</span>
 → <span style="color: #00BB00;">intensity</span> = <span style="font-style: italic;">as.numeric(intensity)</span>
 → <span style="color: #00BB00;">baseline</span> = <span style="font-style: italic;">as.numeric(baseline)</span>
 → <span style="color: #00BB00;">peakNoise</span> = <span style="font-style: italic;">as.numeric(noise)</span>
 → <span style="color: #00BB00;">peakResolution</span> = <span style="font-style: italic;">as.numeric(resolution)</span>
 → <span style="color: #00BB00;">isRefPeak</span> = <span style="font-style: italic;">as.logical(is_ref)</span>
 → <span style="color: #00BB00;">isLockPeak</span> = <span style="font-style: italic;">as.logical(is_lock_peak)</span>
<span style="font-weight: bold;">Dataset</span> <span style="color: #0000BB;">spectra</span>:
 → <span style="color: #00BB00;">scan.no</span> = <span style="font-style: italic;">as.integer(scan.no)</span>
 → <span style="color: #00BB00;">mz</span> = <span style="font-style: italic;">as.numeric(mass)</span>
 → <span style="color: #00BB00;">intensity</span> = <span style="font-style: italic;">as.numeric(intensity)</span>
</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># use it</span></span>
<span><span class="va">raw_files</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_aggregate_raw.html">orbi_aggregate_raw</a></span><span class="op">(</span>aggregator <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[238ms]</span> <span style="font-weight: bold;">orbi_aggregate_raw()</span> aggregated <span style="color: #0000BB;">file_info</span> (2), <span style="color: #0000BB;">scans</span> (11), <span style="color: #0000BB;">peaks</span>
(138), and <span style="color: #0000BB;">spectra</span> (943) from 2 files using the <span style="font-weight: bold; font-style: italic;">test</span> aggregator
</code></pre>
<pre class="fansi fansi-message"><code>─────── <span style="font-weight: bold;">aggregated data from 2 raw files - retrieve with orbi_get_data()</span> ───────
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">file_info</span> (2): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">filepath</span>, <span style="color: #00BB00;">filename</span>, <span style="color: #00BB00;">creation_date</span>, <span style="color: #00BB00;">in_aquisition</span>; (<span style="font-style: italic;">not</span>
<span style="font-style: italic;">aggregated</span>: <span style="color: #BBBB00; font-style: italic;">Operator</span>, <span style="color: #BBBB00; font-style: italic;">FileDescription</span>, <span style="color: #BBBB00; font-style: italic;">MassResolution</span>, <span style="color: #BBBB00; font-style: italic;">SpectraCount</span>,
<span style="color: #BBBB00; font-style: italic;">FirstSpectrum</span>, <span style="color: #BBBB00; font-style: italic;">LastSpectrum</span>, <span style="color: #BBBB00; font-style: italic;">StartTime</span>, <span style="color: #BBBB00; font-style: italic;">EndTime</span>, <span style="color: #BBBB00; font-style: italic;">LowMass</span>, <span style="color: #BBBB00; font-style: italic;">HighMass</span>,
<span style="color: #BBBB00; font-style: italic;">InstrumentCount</span>, <span style="color: #BBBB00; font-style: italic;">InstrumentModel</span>, <span style="color: #BBBB00; font-style: italic;">InstrumentName</span>, <span style="color: #BBBB00; font-style: italic;">SerialNumber</span>,
<span style="color: #BBBB00; font-style: italic;">SoftwareVersion</span>, <span style="color: #BBBB00; font-style: italic;">HardwareVersion</span>, <span style="color: #BBBB00; font-style: italic;">RawFileVersion</span>, <span style="color: #BBBB00; font-style: italic;">InstrumentUnits</span>, <span style="color: #BBBB00; font-style: italic;">Comment</span>,
<span style="color: #BBBB00; font-style: italic;">SampleId</span>, <span style="color: #BBBB00; font-style: italic;">SampleName</span>, <span style="color: #BBBB00; font-style: italic;">SampleType</span>, <span style="color: #BBBB00; font-style: italic;">SampleWeight</span>, <span style="color: #BBBB00; font-style: italic;">SampleVolume</span>, <span style="color: #BBBB00; font-style: italic;">Barcode</span>,
<span style="color: #BBBB00; font-style: italic;">RowNumber</span>, <span style="color: #BBBB00; font-style: italic;">Vial</span>, <span style="color: #BBBB00; font-style: italic;">InjectionVolume</span>, <span style="color: #BBBB00; font-style: italic;">DilutionFactor</span>, <span style="color: #BBBB00; font-style: italic;">IstdAmount</span>, <span style="color: #BBBB00; font-style: italic;">CalibrationLevel</span>,
<span style="color: #BBBB00; font-style: italic;">InstrumentMethodFile</span>, <span style="color: #BBBB00; font-style: italic;">CalibrationFile</span>, <span style="color: #BBBB00; font-style: italic;">ProcessingMethodFile</span>, <span style="color: #BBBB00; font-style: italic;">UserText0</span>,
<span style="color: #BBBB00; font-style: italic;">UserText1</span>, <span style="color: #BBBB00; font-style: italic;">UserText2</span>, <span style="color: #BBBB00; font-style: italic;">UserText3</span>, <span style="color: #BBBB00; font-style: italic;">UserText4</span>)
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">scans</span> (11): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">time.min</span>, <span style="color: #00BB00;">tic</span>, <span style="color: #00BB00;">it.ms</span>, <span style="color: #00BB00;">resolution</span>, <span style="color: #00BB00;">microscans</span>,
<span style="color: #00BB00;">slens_rf</span>; (<span style="font-style: italic;">not aggregated</span>: <span style="color: #BBBB00; font-style: italic;">BasePeakIntensity</span>, <span style="color: #BBBB00; font-style: italic;">BasePeakMass</span>, <span style="color: #BBBB00; font-style: italic;">HighMass</span>,
<span style="color: #BBBB00; font-style: italic;">IsCentroidScan</span>, <span style="color: #BBBB00; font-style: italic;">LowMass</span>, <span style="color: #BBBB00; font-style: italic;">ScanType</span>, <span style="color: #BBBB00; font-style: italic;">Scan Description</span>, <span style="color: #BBBB00; font-style: italic;">Multiple Injection</span>, <span style="color: #BBBB00; font-style: italic;">Multi</span>
<span style="color: #BBBB00; font-style: italic;">Inject Info</span>, <span style="color: #BBBB00; font-style: italic;">AGC</span>, <span style="color: #BBBB00; font-style: italic;">Scan Segment</span>, <span style="color: #BBBB00; font-style: italic;">Scan Event</span>, <span style="color: #BBBB00; font-style: italic;">Master Index</span>, <span style="color: #BBBB00; font-style: italic;">Master Scan Number</span>,
<span style="color: #BBBB00; font-style: italic;">Charge State</span>, <span style="color: #BBBB00; font-style: italic;">Monoisotopic M/Z</span>, <span style="color: #BBBB00; font-style: italic;">Error in isotopic envelope fit</span>, <span style="color: #BBBB00; font-style: italic;">Max. Ion Time</span>
<span style="color: #BBBB00; font-style: italic;">(ms)</span>, <span style="color: #BBBB00; font-style: italic;">MS2 Isolation Width</span>, <span style="color: #BBBB00; font-style: italic;">MS2 Isolation Offset</span>, <span style="color: #BBBB00; font-style: italic;">AGC Target</span>, <span style="color: #BBBB00; font-style: italic;">HCD Energy</span>, <span style="color: #BBBB00; font-style: italic;">HCD</span>
<span style="color: #BBBB00; font-style: italic;">Energy V</span>, <span style="color: #BBBB00; font-style: italic;">Analyzer Temperature</span>, <span style="color: #BBBB00; font-style: italic;">=== Mass Calibration: ===</span>, <span style="color: #BBBB00; font-style: italic;">Conversion Parameter</span>
<span style="color: #BBBB00; font-style: italic;">B</span>, <span style="color: #BBBB00; font-style: italic;">Conversion Parameter C</span>, <span style="color: #BBBB00; font-style: italic;">Temperature Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">RF Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">Space</span>
<span style="color: #BBBB00; font-style: italic;">Charge Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">Resolution Comp. (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">Number of Lock Masses</span>, <span style="color: #BBBB00; font-style: italic;">Lock Mass #1</span>
<span style="color: #BBBB00; font-style: italic;">(m/z)</span>, <span style="color: #BBBB00; font-style: italic;">Lock Mass #2 (m/z)</span>, <span style="color: #BBBB00; font-style: italic;">Lock Mass #3 (m/z)</span>, <span style="color: #BBBB00; font-style: italic;">LM Search Window (ppm)</span>, <span style="color: #BBBB00; font-style: italic;">LM</span>
<span style="color: #BBBB00; font-style: italic;">Search Window (mmu)</span>, <span style="color: #BBBB00; font-style: italic;">Number of LM Found</span>, <span style="color: #BBBB00; font-style: italic;">Last Locking (sec)</span>, <span style="color: #BBBB00; font-style: italic;">LM m/z-Correction</span>
<span style="color: #BBBB00; font-style: italic;">(ppm)</span>, <span style="color: #BBBB00; font-style: italic;">=== Ion Optics Settings: ===</span>, <span style="color: #BBBB00; font-style: italic;">==== Diagnostic Data: ====</span>, <span style="color: #BBBB00; font-style: italic;">Application</span>
<span style="color: #BBBB00; font-style: italic;">Mode</span>, <span style="color: #BBBB00; font-style: italic;">Mild Trapping Mode</span>, <span style="color: #BBBB00; font-style: italic;">APD</span>, <span style="color: #BBBB00; font-style: italic;">OT Intens Comp Factor</span>, <span style="color: #BBBB00; font-style: italic;">Res. Dep. Intens</span>, <span style="color: #BBBB00; font-style: italic;">Q Trans</span>
<span style="color: #BBBB00; font-style: italic;">Comp</span>, <span style="color: #BBBB00; font-style: italic;">PrOSA NumF</span>, <span style="color: #BBBB00; font-style: italic;">PrOSA Comp</span>, <span style="color: #BBBB00; font-style: italic;">PrOSA ScScr</span>, <span style="color: #BBBB00; font-style: italic;">RawOvFtT</span>, <span style="color: #BBBB00; font-style: italic;">Dynamic RT Shift (min)</span>,
<span style="color: #BBBB00; font-style: italic;">Analytical OT usage (%)</span>, <span style="color: #BBBB00; font-style: italic;">LC FWHM parameter</span>, <span style="color: #BBBB00; font-style: italic;">PS Inj. Time (ms)</span>, <span style="color: #BBBB00; font-style: italic;">AGC PS Mode</span>, <span style="color: #BBBB00; font-style: italic;">AGC</span>
<span style="color: #BBBB00; font-style: italic;">PS Diag</span>, <span style="color: #BBBB00; font-style: italic;">AGC Target Adjust</span>, <span style="color: #BBBB00; font-style: italic;">AGC Diag 1</span>, <span style="color: #BBBB00; font-style: italic;">AGC Diag 2</span>, <span style="color: #BBBB00; font-style: italic;">HCD abs. Offset</span>, <span style="color: #BBBB00; font-style: italic;">Source CID</span>
<span style="color: #BBBB00; font-style: italic;">eV</span>, <span style="color: #BBBB00; font-style: italic;">AGC Fill</span>, <span style="color: #BBBB00; font-style: italic;">Injection t0</span>, <span style="color: #BBBB00; font-style: italic;">t0 FLP</span>, <span style="color: #BBBB00; font-style: italic;">Iso Para R</span>, <span style="color: #BBBB00; font-style: italic;">Inj Para R</span>, <span style="color: #BBBB00; font-style: italic;">Access Id</span>, <span style="color: #BBBB00; font-style: italic;">Analog</span>
<span style="color: #BBBB00; font-style: italic;">In A (V)</span>, <span style="color: #BBBB00; font-style: italic;">Analog In B (V)</span>, <span style="color: #BBBB00; font-style: italic;">FAIMS Attached</span>, <span style="color: #BBBB00; font-style: italic;">FAIMS Voltage On</span>, <span style="color: #BBBB00; font-style: italic;">FAIMS CV</span>)
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">peaks</span> (138): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">mzMeasured</span>, <span style="color: #00BB00;">intensity</span>, <span style="color: #00BB00;">baseline</span>, <span style="color: #00BB00;">peakNoise</span>,
<span style="color: #00BB00;">peakResolution</span>, <span style="color: #00BB00;">isRefPeak</span>, <span style="color: #00BB00;">isLockPeak</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">spectra</span> (943): <span style="color: #00BB00;">uidx</span>, <span style="color: #00BB00;">scan.no</span>, <span style="color: #00BB00;">mz</span>, <span style="color: #00BB00;">intensity</span>
</code></pre>
<pre class="fansi fansi-message"><code>→ <span style="color: #0000BB;">problems</span>: has <span style="color: #00BB00;">no issues</span>
</code></pre>
</div>
<div class="section level4">
<h4 id="bonus-orbi_get_problems">bonus <code>orbi_get_problems()</code><a class="anchor" aria-label="anchor" href="#bonus-orbi_get_problems"></a>
</h4>
<p>There were no problems reading and/or aggregating the raw data so
these are empty but this can be very helpful to see what went wrong
during reading or aggregation.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">raw_files</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/problems.html">orbi_get_problems</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co"># A tibble: 0 × 6</span></span>
<span><span class="co"># ℹ 6 variables: uidx &lt;int&gt;, file &lt;chr&gt;, type &lt;chr&gt;, call &lt;chr&gt;, message &lt;chr&gt;,</span></span>
<span><span class="co">#   condition &lt;list&gt;</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">agg_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/problems.html">orbi_get_problems</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co"># A tibble: 0 × 6</span></span>
<span><span class="co"># ℹ 6 variables: uidx &lt;int&gt;, file &lt;chr&gt;, type &lt;chr&gt;, call &lt;chr&gt;, message &lt;chr&gt;,</span></span>
<span><span class="co">#   condition &lt;list&gt;</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="orbi_get_data">
<code>orbi_get_data()</code><a class="anchor" aria-label="anchor" href="#orbi_get_data"></a>
</h3>
<p>At this point (and any later point), you can always extract the data
of interest from the aggregated data set using
<code><a href="../reference/orbi_get_data.html">orbi_get_data()</a></code>. If you prefer working with a data frame
tibble from <code><a href="../reference/orbi_get_data.html">orbi_get_data()</a></code> instead of the aggregated data
structure, you can switch to that at any point and use the resulting
data frame tibble in subsequent functions.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># direct access to the data stored in the aggregated dataset</span></span>
<span><span class="va">agg_data</span><span class="op">$</span><span class="va">file_info</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span style="color: #949494;"># A tibble: 2 × 44</span>
   uidx filepath             filename creation_date       in_aquisition Operator
  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   
<span style="color: #BCBCBC;">1</span>     1 data/nitrate_test_1… nitrate… 2025-01-30 <span style="color: #949494;">13:57:12</span> FALSE         SYSTEM  
<span style="color: #BCBCBC;">2</span>     2 data/nitrate_test_1… nitrate… 2025-01-30 <span style="color: #949494;">14:01:04</span> FALSE         SYSTEM  
<span style="color: #949494;"># ℹ 38 more variables: FileDescription &lt;chr&gt;, MassResolution &lt;chr&gt;,</span>
<span style="color: #949494;">#   SpectraCount &lt;chr&gt;, FirstSpectrum &lt;chr&gt;, LastSpectrum &lt;chr&gt;,</span>
<span style="color: #949494;">#   StartTime &lt;chr&gt;, EndTime &lt;chr&gt;, LowMass &lt;chr&gt;, HighMass &lt;chr&gt;,</span>
<span style="color: #949494;">#   InstrumentCount &lt;chr&gt;, InstrumentModel &lt;chr&gt;, InstrumentName &lt;chr&gt;,</span>
<span style="color: #949494;">#   SerialNumber &lt;chr&gt;, SoftwareVersion &lt;chr&gt;, HardwareVersion &lt;chr&gt;,</span>
<span style="color: #949494;">#   RawFileVersion &lt;chr&gt;, InstrumentUnits &lt;chr&gt;, Comment &lt;chr&gt;, SampleId &lt;chr&gt;,</span>
<span style="color: #949494;">#   SampleName &lt;chr&gt;, SampleType &lt;chr&gt;, SampleWeight &lt;chr&gt;, …</span>
</code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">agg_data</span><span class="op">$</span><span class="va">scans</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span style="color: #949494;"># A tibble: 11 × 17</span>
    uidx scan.no time.min      tic it.ms resolution microscans basePeakMz
   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #BCBCBC;"> 1</span>     1       1  0.004<span style="text-decoration: underline;">54</span> 4<span style="text-decoration: underline;">336</span>653   68.3      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 2</span>     1       2  0.006<span style="text-decoration: underline;">75</span> 3<span style="text-decoration: underline;">391</span>426.  80.6      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 3</span>     1       3  0.008<span style="text-decoration: underline;">97</span> 3<span style="text-decoration: underline;">665</span>948.  79.5      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 4</span>     1       4  0.011<span style="text-decoration: underline;">2</span>  5<span style="text-decoration: underline;">965</span>333  100.       <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 5</span>     1       5  0.013<span style="text-decoration: underline;">4</span>  2<span style="text-decoration: underline;">595</span>905.  94.3      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 6</span>     1       6  0.015<span style="text-decoration: underline;">6</span>  4<span style="text-decoration: underline;">273</span>768.  55.3      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 7</span>     1       7  0.018<span style="text-decoration: underline;">1</span>  3<span style="text-decoration: underline;">134</span>818. 131.       <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 8</span>     1       8  0.020<span style="text-decoration: underline;">3</span>  3<span style="text-decoration: underline;">522</span>451.  78.7      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;"> 9</span>     1       9  0.022<span style="text-decoration: underline;">5</span>  4<span style="text-decoration: underline;">324</span>210. 109.       <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;">10</span>     1      10  0.024<span style="text-decoration: underline;">7</span>  3<span style="text-decoration: underline;">553</span>078.  95.7      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #BCBCBC;">11</span>     2       1  0.003<span style="text-decoration: underline;">99</span> 6<span style="text-decoration: underline;">382</span>695   56.6      <span style="text-decoration: underline;">60</span>000          1       62.0
<span style="color: #949494;"># ℹ 9 more variables: basePeakIntensity &lt;dbl&gt;, lowMass &lt;dbl&gt;, highMass &lt;dbl&gt;,</span>
<span style="color: #949494;">#   rawOvFtT &lt;dbl&gt;, intensCompFactor &lt;dbl&gt;, agc &lt;chr&gt;, agcTarget &lt;int&gt;,</span>
<span style="color: #949494;">#   numberLockmassesFound &lt;int&gt;, analyzerTemperature &lt;dbl&gt;</span>
</code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">agg_data</span><span class="op">$</span><span class="va">peaks</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span style="color: #949494;"># A tibble: 138 × 9</span>
    uidx scan.no mzMeasured intensity baseline peakNoise peakResolution
   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #BCBCBC;"> 1</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>211.     8.32      513.          <span style="text-decoration: underline;">70</span>900
<span style="color: #BCBCBC;"> 2</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>463.     8.32      513.          <span style="text-decoration: underline;">94</span>100
<span style="color: #BCBCBC;"> 3</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>172.     8.31      513.          <span style="text-decoration: underline;">80</span>300
<span style="color: #BCBCBC;"> 4</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>116.     8.30      513.          <span style="text-decoration: underline;">87</span>900
<span style="color: #BCBCBC;"> 5</span>     1       1       62.0  4<span style="text-decoration: underline;">046</span>979      8.28      513.         <span style="text-decoration: underline;">114</span>902
<span style="color: #BCBCBC;"> 6</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>798.     8.26      513.          <span style="text-decoration: underline;">86</span>300
<span style="color: #BCBCBC;"> 7</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>444.     8.26      513.          <span style="text-decoration: underline;">93</span>200
<span style="color: #BCBCBC;"> 8</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>346.     8.25      513.          <span style="text-decoration: underline;">84</span>700
<span style="color: #BCBCBC;"> 9</span>     1       1       62.0     <span style="text-decoration: underline;">1</span>469.     8.25      513.          <span style="text-decoration: underline;">92</span>400
<span style="color: #BCBCBC;">10</span>     1       1       62.1     <span style="text-decoration: underline;">1</span>043.     8.16      513.          <span style="text-decoration: underline;">89</span>900
<span style="color: #949494;"># ℹ 128 more rows</span>
<span style="color: #949494;"># ℹ 2 more variables: isRefPeak &lt;lgl&gt;, isLockPeak &lt;lgl&gt;</span>
</code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">agg_data</span><span class="op">$</span><span class="va">spectra</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span style="color: #949494;"># A tibble: 943 × 4</span>
    uidx scan.no    mz intensity
   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #BCBCBC;"> 1</span>     1       1  60.9        0 
<span style="color: #BCBCBC;"> 2</span>     1       1  60.9        0 
<span style="color: #BCBCBC;"> 3</span>     1       1  60.9        0 
<span style="color: #BCBCBC;"> 4</span>     1       1  60.9        0 
<span style="color: #BCBCBC;"> 5</span>     1       1  62.0        0 
<span style="color: #BCBCBC;"> 6</span>     1       1  62.0        0 
<span style="color: #BCBCBC;"> 7</span>     1       1  62.0        0 
<span style="color: #BCBCBC;"> 8</span>     1       1  62.0        0 
<span style="color: #BCBCBC;"> 9</span>     1       1  62.0      496.
<span style="color: #BCBCBC;">10</span>     1       1  62.0      935.
<span style="color: #949494;"># ℹ 933 more rows</span>
</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># better way to retrieve+combine the data with dplyr select syntax:</span></span>
<span><span class="va">agg_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/orbi_get_data.html">orbi_get_data</a></span><span class="op">(</span></span>
<span>    file_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"filename"</span>, <span class="st">"creation_date"</span>, <span class="st">"instrument"</span> <span class="op">=</span> <span class="st">"InstrumentModel"</span><span class="op">)</span>,</span>
<span>    scans <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"time.min"</span>, <span class="st">"tic"</span>, <span class="st">"resolution"</span><span class="op">)</span>,</span>
<span>    peaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mz"</span> <span class="op">=</span> <span class="st">"mzMeasured"</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"peak"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[15ms]</span> <span style="font-weight: bold;">orbi_get_data()</span> retrieved 138 records from the combination of
<span style="color: #0000BB;">file_info</span> (2), <span style="color: #0000BB;">scans</span> (11), and <span style="color: #0000BB;">peaks</span> (138) via <span style="color: #00BB00;">uidx</span> and <span style="color: #00BB00;">scan.no</span>
</code></pre>
<pre class="fansi fansi-output"><code><span style="color: #949494;"># A tibble: 138 × 11</span>
    uidx filename         creation_date       instrument scan.no time.min    tic
   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>
<span style="color: #BCBCBC;"> 1</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 2</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 3</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 4</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 5</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 6</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 7</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 8</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;"> 9</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #BCBCBC;">10</span>     1 nitrate_test_10… 2025-01-30 <span style="color: #949494;">13:57:12</span> Orbitrap …       1  0.004<span style="text-decoration: underline;">54</span> 4.34<span style="color: #949494;">e</span>6
<span style="color: #949494;"># ℹ 128 more rows</span>
<span style="color: #949494;"># ℹ 4 more variables: resolution &lt;dbl&gt;, mz &lt;dbl&gt;, peakNoise &lt;dbl&gt;,</span>
<span style="color: #949494;">#   peakResolution &lt;dbl&gt;</span>
</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="identifying-isotopocules">Identifying isotopocules<a class="anchor" aria-label="anchor" href="#identifying-isotopocules"></a>
</h2>
<p>The next step is identifying isotpocules.</p>
<div class="section level3">
<h3 id="orbi_identify_isotopocules">
<code>orbi_identify_isotopocules()</code> *<a class="anchor" aria-label="anchor" href="#orbi_identify_isotopocules"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># list of isotopocules (can alternatively be in a tsv/csv/xlsx file)</span></span>
<span><span class="va">isotopocules</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    compound <span class="op">=</span> <span class="st">"nitrate"</span>,</span>
<span>    isotopolog <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M0"</span>, <span class="st">"15N"</span>, <span class="st">"17O"</span>, <span class="st">"18O"</span><span class="op">)</span>,</span>
<span>    mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">61.9878</span>, <span class="fl">62.9850</span>, <span class="fl">62.9922</span>, <span class="fl">63.9922</span><span class="op">)</span>,</span>
<span>    tolerance <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    charge <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># identify</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">agg_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_identify_isotopocules.html">orbi_identify_isotopocules</a></span><span class="op">(</span><span class="va">isotopocules</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[37ms]</span> <span style="font-weight: bold;">orbi_identify_isotopocules()</span> identified 44/138 peaks (32%)
representing 100% of the total ion current (TIC) as isotopocules <span style="color: #00BB00;">M0</span>, <span style="color: #00BB00;">15N</span>, <span style="color: #00BB00;">17O</span>,
and <span style="color: #00BB00;">18O</span>
</code></pre>
</div>
<div class="section level3">
<h3 id="orbi_plot_spectra">
<code>orbi_plot_spectra()</code><a class="anchor" aria-label="anchor" href="#orbi_plot_spectra"></a>
</h3>
</div>
</div>
<div class="section level2">
<h2 id="data-checks">Data checks<a class="anchor" aria-label="anchor" href="#data-checks"></a>
</h2>
<div class="section level3">
<h3 id="orbi_flag_satellite_peas">
<code>orbi_flag_satellite_peas()</code> *<a class="anchor" aria-label="anchor" href="#orbi_flag_satellite_peas"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this can happen here or later on in the workflow</span></span>
<span><span class="co"># in the case of these files there are no satellite peaks</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_flag_satellite_peaks.html">orbi_flag_satellite_peaks</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_plot_satellite_peaks.html">orbi_plot_satellite_peaks</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-message"><code><span style="color: #00BB00;">✔</span> <span style="color: #B2B2B2;">[10ms]</span> <span style="font-weight: bold;">orbi_flag_satellite_peaks()</span> confirmed there are no <span style="color: #BBBB00;">satellite</span> peaks
</code></pre>
<pre class="fansi fansi-message"><code>`geom_line()`: Each group consists of only one observation.
<span style="color: #00BBBB;">ℹ</span> Do you need to adjust the <span style="color: #00BB00;">group</span> aesthetic?
</code></pre>
<p><img src="functionality_guide_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="orbi_plot_isotopocule_coverage">
<code>orbi_plot_isotopocule_coverage()</code><a class="anchor" aria-label="anchor" href="#orbi_plot_isotopocule_coverage"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this can happen here or later on in the workflow</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_isotopocule_coverage.html">orbi_get_isotopocule_coverage</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span style="color: #949494;"># A tibble: 8 × 10</span>
   uidx filename        compound isotopocule data_stretch n_points start_scan.no
  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>
<span style="color: #BCBCBC;">1</span>     1 nitrate_test_1… nitrate  M0                     0       10             1
<span style="color: #BCBCBC;">2</span>     1 nitrate_test_1… nitrate  15N                    0       10             1
<span style="color: #BCBCBC;">3</span>     1 nitrate_test_1… nitrate  17O                    0       10             1
<span style="color: #BCBCBC;">4</span>     1 nitrate_test_1… nitrate  18O                    0       10             1
<span style="color: #BCBCBC;">5</span>     2 nitrate_test_1… nitrate  M0                     0        1             1
<span style="color: #BCBCBC;">6</span>     2 nitrate_test_1… nitrate  15N                    0        1             1
<span style="color: #BCBCBC;">7</span>     2 nitrate_test_1… nitrate  17O                    0        1             1
<span style="color: #BCBCBC;">8</span>     2 nitrate_test_1… nitrate  18O                    0        1             1
<span style="color: #949494;"># ℹ 3 more variables: end_scan.no &lt;int&gt;, start_time.min &lt;dbl&gt;,</span>
<span style="color: #949494;">#   end_time.min &lt;dbl&gt;</span>
</code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/orbi_isotopocule_coverage.html">orbi_plot_isotopocule_coverage</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="functionality_guide_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="ratio-calculations">Ratio calculations<a class="anchor" aria-label="anchor" href="#ratio-calculations"></a>
</h2>
<div class="section level3">
<h3 id="orbi_define_basepeak">
<code>orbi_define_basepeak()</code> *<a class="anchor" aria-label="anchor" href="#orbi_define_basepeak"></a>
</h3>
</div>
<div class="section level3">
<h3 id="orbi_summarize_results">
<code>orbi_summarize_results()</code> *<a class="anchor" aria-label="anchor" href="#orbi_summarize_results"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Caj Neubauer, Sebastian Kopf, Kristýna Kantnerová.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
