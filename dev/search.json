[{"path":"https://isoorbi.isoverse.org/dev/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 isoorbi authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"a-basic-data-processing-example","dir":"Articles","previous_headings":"","what":"A basic data processing example","title":"Dual Inlet","text":"satellite peaks, weak isotopocules, AGC fold outliers:","code":"# Read .isox test data df <-    system.file(\"extdata\", \"testfile_dual_inlet_new.isox\", package = \"isoorbi\") |>   orbi_read_isox() |> # reads .isox test data   orbi_simplify_isox() |> # optionally: keeps only most important columns; equivalent to simplify check box in IsoX   # check for issues   orbi_flag_satellite_peaks() |> # removes minor signals that were reported by IsoX in the same tolerance window where the peak of interest is   orbi_flag_weak_isotopocules(min_percent = 10) |> # removes signals of isotopocules that were not detected at least in min_percent scans   orbi_flag_outliers(agc_fold_cutoff = 2) |> # removes outlying scans that have more than 2 times or less than 1/2 times the average number of ions in the Orbitrap analyzer; another method: agc_window (see function documentation for more details)   orbi_define_basepeak(basepeak_def = \"M0\") # sets one isotopocule in the dataset as the base peak (denominator) for ratio calculation ✔ [177ms] orbi_read_isox() loaded 9862 peaks for 1 compound (NO3) with 4 isotopocules (M0, 15N, 17O, and 18O) from testfile_dual_inlet_new.isox ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, time.min, compound, isotopocule, ions.incremental, tic, and it.ms ✔ [267ms] orbi_flag_satellite_peaks() confirmed there are no satellite peaks ✔ [32ms] orbi_flag_weak_isotopocules() confirmed there are no weak isotopocules: all are detected in at least 10% of scans in each of the 4 data groups (based on filename, compound, and isotopocule) ✔ [43ms] orbi_flag_outliers() flagged 5/2467 scans (0.2%) as outliers based on 2 fold AGC cutoff, i.e. based on scans below 1/2 and above 2 times the average number of ions tic * it.ms in the Orbitrap analyzer → use orbi_plot_raw_data(y = tic * it.ms) to visualize them ✔ [133ms] orbi_define_basepeak() set M0 as the ratio denominator and calculated 7395 ratios for 3 isotopocules/base peak (15N, 17O, and 18O) df |> orbi_plot_raw_data(isotopocule = \"15N\", y = tic * it.ms, y_scale = \"log\")"},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"define-dual-inlet-blocks","dir":"Articles","previous_headings":"","what":"Define dual inlet blocks","title":"Dual Inlet","text":"","code":"# define blocks df_w_blocks <-   df |>   # general definition   orbi_define_blocks_for_dual_inlet(     ref_block_time.min = 10, # the reference block is 10 min long     sample_block_time.min = 10, # the sample block is 10 min long     startup_time.min = 5, # there is 5 min of data before the reference block starts, to stabilize spray conditions     change_over_time.min = 2, # it takes 2 min to make sure the right solution is measured after switching the valve     sample_block_name = \"sample\",     ref_block_name = \"reference\"   ) |>    # fine adjustments   orbi_adjust_block(block = 1, shift_start_time.min = 2) |> # the 1st reference block is shorter by 2 min, cut from the start   orbi_adjust_block(block = 4, set_start_time.min = 38, set_end_time.min = 44) # the start and end of the 2nd reference block are manually set ✔ [205ms] orbi_define_blocks_for_dual_inlet() identified 7 blocks (4 reference, 3 sample) in data from 1 file ✔ [61ms] orbi_adjust_block() made the following block adjustments in file 20230518_05_USGS32_vs_USGS34: → moved block 1 start from scan 825 (5.01 min) to 1155 (7.02 min) ✔ [65ms] orbi_adjust_block() made the following block adjustments in file 20230518_05_USGS32_vs_USGS34: → moved block 4 start from scan 6090 (37.02 min) to 6255 (38.02 min) → moved block 4 end from scan 7400 (44.98 min) to 7235 (43.98 min) # get blocks info blocks_info <- df_w_blocks |> orbi_get_blocks_info() blocks_info |> knitr::kable()"},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"plot-1-default-block-highlights-outliers","dir":"Articles","previous_headings":"Raw data plots","what":"Plot 1: default block highlights + outliers","title":"Dual Inlet","text":"","code":"# ions df_w_blocks |>    orbi_plot_raw_data(     isotopocules = \"15N\",     y = ions.incremental   ) # ratios - you can see that even the AGC outliers still create decent ratios df_w_blocks |>    orbi_plot_raw_data(     isotopocules = \"15N\",     y = ratio   )"},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"plot-2-highlight-blocks-in-data-no-outliers","dir":"Articles","previous_headings":"Raw data plots","what":"Plot 2: highlight blocks in data + no outliers","title":"Dual Inlet","text":"","code":"df_w_blocks |>    orbi_plot_raw_data(     isotopocules = \"15N\",     y = ratio,     color = NULL,     add_all_blocks = TRUE,     show_outliers = FALSE   ) +   # add other ggplot elements, e.g. more specific axis labels   labs(x = \"time [min]\", y = \"15N/M0 ratio\")"},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"plot-3-highlight-sample-blocks-on-top","dir":"Articles","previous_headings":"Raw data plots","what":"Plot 3: highlight sample blocks on top","title":"Dual Inlet","text":"","code":"df_w_blocks |>    orbi_plot_raw_data(     isotopocules = \"15N\",     y = ratio,     add_all_blocks = TRUE,     show_outliers = FALSE,     color = factor(block)   ) +   labs(x = \"time [min]\", y = \"15N/M0 ratio\", color = \"block #\")"},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"data-summaries","dir":"Articles","previous_headings":"","what":"Data summaries","title":"Dual Inlet","text":"","code":"# calculate summary df_summary <-    df_w_blocks |>   # segment (optional)   orbi_segment_blocks(into_segments = 3) |>   # calculate results, including for the unused parts of the data blocks   orbi_summarize_results(     ratio_method = \"sum\",     include_unused_data = TRUE   ) ✔ [1s] orbi_segment_blocks() segmented 7 data blocks in 1 file creating 3 segments per block (on average) with 85 scans per segment (on average) ✔ [604ms] orbi_summarize_results() summarized ratios from 7380 peaks (excluding 15 flagged peaks; including 2073 unused peaks) using the sum method and grouping the data by filename, compound, basepeak, isotopocule, block, sample_name, segment, data_group, and data_type"},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"plot-1-ratios-summary-by-block-and-segment","dir":"Articles","previous_headings":"Data summaries","what":"Plot 1: ratios summary by block and segment","title":"Dual Inlet","text":"","code":"# plot all isotopocules using a ggplot from scratch df_summary |>   filter(data_type == \"data\") |>   mutate(block_seg = sprintf(\"%s.%s\", block, segment) |> fct_inorder()) |>   # data   ggplot() +   aes(     x = block_seg,     y = ratio, ymin = ratio - ratio_sem, ymax = ratio + ratio_sem,     color = sample_name   ) +   geom_pointrange() +   facet_grid(isotopocule ~ ., scales = \"free_y\") +   # scales   scale_color_brewer(palette = \"Set1\") +   theme_bw() +   labs(x = \"block.segment\", y = \"ratio\")"},{"path":"https://isoorbi.isoverse.org/dev/articles/dual_inlet.html","id":"plot-2-ratios-with-block-backgrounds-and-raw-data","dir":"Articles","previous_headings":"Data summaries","what":"Plot 2: ratios with block backgrounds and raw data","title":"Dual Inlet","text":"","code":"# make a plot for 15N plot2 <- df_w_blocks |>   filter(isotopocule == \"15N\") |>   mutate(panel = \"raw ratios\") |>   # raw data plot   orbi_plot_raw_data(     y = ratio,     color = NULL,     add_all_blocks = TRUE,     show_outliers = FALSE   ) +    # ratio summary data   geom_pointrange(     data = function(df) {       df_summary |>          filter(as.character(isotopocule) == df$isotopocule[1]) |>          mutate(panel = \"summary\")     },     map = aes(       x = mean_time.min, y = ratio,        ymin = ratio - ratio_sem, ymax = ratio + ratio_sem,       shape = sample_name     ),      size = 0.5   ) +   facet_grid(panel ~ ., switch = \"y\") +   theme(strip.placement = \"outside\") +   labs(y = NULL, title = \"15N/M0\")  plot2 # same but with 18O plot2 %+%    (df_w_blocks |> filter(isotopocule == \"18O\") |> mutate(panel = \"raw ratios\")) +   labs(title = \"18O/M0\") Warning: <ggplot> %+% x was deprecated in ggplot2 4.0.0. ℹ Please use <ggplot> + x instead. This warning is displayed once every 8 hours. Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated."},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/articles/flow_injection.html","id":"load-data","dir":"Articles","previous_headings":"Data","what":"Load data","title":"Flow Injection","text":"","code":"# load and process data data <-    # load file included in isoorbi package   system.file(package = \"isoorbi\", \"extdata\", \"testfile_flow.isox\") |>   orbi_read_isox() |>   orbi_simplify_isox() |>   # define data block where signal is stable (plateau)   orbi_define_block_for_flow_injection(start_time.min = 0.1, end_time.min = 0.9) |>   # flag extreme TICxIT values   orbi_flag_outliers(agc_fold_cutoff = 2) ✔ [240ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, time.min, compound, isotopocule, ions.incremental, tic, and it.ms ✔ [151ms] orbi_define_block_for_flow_injection() added a new block (0.1 to 0.9 min) to 3 files ✔ [41ms] orbi_flag_outliers() confirmed that none of the 1290 scans are outliers based on 2 fold AGC cutoff, i.e. based on scans below 1/2 and above 2 times the average number of ions tic * it.ms in the Orbitrap analyzer, in 6 data groups (based on filename, block, and segment)"},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/articles/flow_injection.html","id":"ratios","dir":"Articles","previous_headings":"Calculations","what":"Ratios","title":"Flow Injection","text":"","code":"# basepeak & ratios data_w_basepeak <-    data |>   orbi_define_basepeak(\"M0\") ✔ [62ms] orbi_define_basepeak() set M0 as the ratio denominator and calculated 5159 ratios for 4 isotopocules/base peak (33S, 17O, 34S, and 18O) # ratio summaries data_summary <-    data_w_basepeak |>   orbi_summarize_results(ratio_method = \"sum\") ✔ [91ms] orbi_summarize_results() summarized ratios from 4139 peaks (excluding 0 flagged peaks; excluding 1020 unused peaks) using the sum method and grouping the data by filename, compound, basepeak, isotopocule, block, sample_name, segment, data_group, and data_type"},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/articles/flow_injection.html","id":"visualize-data","dir":"Articles","previous_headings":"Figures","what":"Visualize data","title":"Flow Injection","text":"Ions isotopocules time","code":"orbi_plot_raw_data(data, y = ions.incremental, y_scale = \"log\")"},{"path":"https://isoorbi.isoverse.org/dev/articles/flow_injection.html","id":"raw-ratios","dir":"Articles","previous_headings":"Figures","what":"Raw ratios","title":"Flow Injection","text":"Isotopocule ratios vs M0","code":"data_w_basepeak |> orbi_plot_raw_data(y = ratio)"},{"path":"https://isoorbi.isoverse.org/dev/articles/flow_injection.html","id":"ratios-for-18o","dir":"Articles","previous_headings":"Figures","what":"Ratios for 18O","title":"Flow Injection","text":"Isotopocule ratios 18O vs M0","code":"fig <-    data_summary |>   filter(isotopocule == \"18O\") |>   # plot   ggplot() +   aes(     x = filename,     y = ratio, ymin = ratio - ratio_sem, ymax = ratio + ratio_sem,     color = filename, shape = filename   ) +   geom_pointrange() +   scale_color_brewer(palette = \"Dark2\") +   # theme definitions   theme_bw() +   theme(     text = element_text(size = 16),     panel.grid = element_blank()   ) +   # labels   labs(     y = expression(\"ratio (\"^18*O/M0*\")\")   ) fig"},{"path":"https://isoorbi.isoverse.org/dev/articles/isoxl_demo.html","id":"a-link-to-the-gui","dir":"Articles","previous_headings":"","what":"A link to the GUI","title":"IsoXL demo GUI","text":"isoorbi functionalities extended web-based graphical user interface (GUI) provides click-button access analyze data quality reduce .isox data summary table isotopocule ratios can downloaded spreadsheet. demo version GUI can found : https://isoorbi.shinyapps.io/IsoXL.","code":""},{"path":"https://isoorbi.isoverse.org/dev/articles/quick_start.html","id":"load","dir":"Articles","previous_headings":"","what":"Load","title":"Quick start guide","text":"","code":"# path to a test file included in the isoorbi package # this file contains data from multiple analyses for the same compound file_path <- system.file(package = \"isoorbi\", \"extdata\", \"testfile_flow.isox\")  # load data df <-    file_path |>     # reads .isox test data   orbi_read_isox() |>   # optionally: keeps only most important columns; equivalent to simplify check box in IsoX   orbi_simplify_isox() ✔ [167ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, time.min, compound, isotopocule, ions.incremental, tic, and it.ms # If you wish to read a whole folder of files, you can use the orbi_find_isox() function # df <- \"path_to_your_folder\" |> orbi_find_isox() |> orbi_read_isox()"},{"path":"https://isoorbi.isoverse.org/dev/articles/quick_start.html","id":"check","dir":"Articles","previous_headings":"","what":"Check","title":"Quick start guide","text":"Now data loaded, check satellite peaks, weak isotopocules outliers. info messages functions suggest data flagged.","code":"# check for noise and outliers df_flagged <- df |>    orbi_flag_satellite_peaks() |> # removes minor signals that were reported by IsoX in the same tolerance window where the peak of interest is   orbi_flag_weak_isotopocules(min_percent = 2) |> # removes signals of isotopocules that were not detected at least in min_percent scans   orbi_flag_outliers(agc_fold_cutoff = 2) # removes outlying scans that have more than 2 times or less than 1/2 times the average number of ions in the Orbitrap analyzer; another method: agc_window (see function documentation for more details) ✔ [177ms] orbi_flag_satellite_peaks() confirmed there are no satellite peaks ✔ [32ms] orbi_flag_weak_isotopocules() confirmed there are no weak isotopocules: all are detected in at least 2% of scans in each of the 15 data groups (based on filename, compound, and isotopocule) ✔ [39ms] orbi_flag_outliers() confirmed that none of the 1290 scans are outliers based on 2 fold AGC cutoff, i.e. based on scans below 1/2 and above 2 times the average number of ions tic * it.ms in the Orbitrap analyzer, in 3 data groups (based on filename)"},{"path":"https://isoorbi.isoverse.org/dev/articles/quick_start.html","id":"calculate","dir":"Articles","previous_headings":"","what":"Calculate","title":"Quick start guide","text":"","code":"# define base peak and calculate the results table df_results <-    df_flagged |>    orbi_define_basepeak(basepeak_def = \"M0\")|> # sets one isotopocule in the dataset as the base peak (denominator) for ratio calculation   orbi_summarize_results(ratio_method = \"sum\") # calculates ratios and generates a results table ✔ [81ms] orbi_define_basepeak() set M0 as the ratio denominator and calculated 5159 ratios for 4 isotopocules/base peak (33S, 17O, 34S, and 18O) ✔ [91ms] orbi_summarize_results() summarized ratios from 5159 peaks using the sum method and grouping the data by filename, compound, basepeak, and isotopocule"},{"path":"https://isoorbi.isoverse.org/dev/articles/quick_start.html","id":"visualize","dir":"Articles","previous_headings":"","what":"Visualize","title":"Quick start guide","text":"","code":"# use a ggplot to plot the data library(ggplot2) df_results |>   ggplot() +   aes(     x = sprintf(\"%s/%s\", isotopocule, basepeak),     y = ratio, ymin = ratio - ratio_sem, ymax = ratio + ratio_sem,     color = filename   ) +   geom_pointrange() +   scale_color_brewer(palette = \"Set1\") +   orbi_default_theme() +   labs(x = NULL, y = \"ratio\") +   facet_wrap(~compound)"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"model-peptide-mrfa","dir":"Articles","previous_headings":"","what":"Model Peptide (MRFA)","title":"Shot Noise","text":"example shot-noise analysis Kantnerová et al. (2023).","code":""},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"load-data","dir":"Articles","previous_headings":"Data","what":"Load data","title":"Shot Noise","text":"indicates satellite peaks weak isotopocules outliers.","code":"# load and process data data <-    # load file included in isoorbi package   system.file(package = \"isoorbi\", \"extdata\", \"testfile_shotnoise.isox\") |>   orbi_read_isox() |>   # check data for satellite peaks   orbi_flag_satellite_peaks() |>   # make sure isotopocules are present in (almost) all scans, otherwise   # shot noise analyses can be inaccurate   orbi_flag_weak_isotopocules(min_percent = 90) |>    # see if there are any AGC outliers   orbi_flag_outliers(agc_fold_cutoff = 2) ✔ [235ms] orbi_read_isox() loaded 1931 peaks for 4 compounds (Alanine, Arginine, Methionine, and Phenylalanine) with 6 isotopocules (M0, 15N, 13C, 2H, 33S, and 34S) from testfile_shotnoise.isox ✔ [60ms] orbi_flag_satellite_peaks() flagged 33/1931 peaks in 3 isotopocules (\"M0\", \"15N\", \"13C\") as satellite peaks (1.7%) ✔ [37ms] orbi_flag_weak_isotopocules() flagged 3 of 18 isotopocules as weak because they were NOT present in at least 90% of scans in each of the 18 data groups (based on filename, compound, and isotopocule) → use orbi_plot_isotopocule_coverage() to visualize them ✔ [27ms] orbi_flag_outliers() confirmed that none of the 114 scans are outliers based on 2 fold AGC cutoff, i.e. based on scans below 1/2 and above 2 times the average number of ions tic * it.ms in the Orbitrap analyzer"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"visualize-isotopocule-coverage","dir":"Articles","previous_headings":"Data","what":"Visualize isotopocule coverage","title":"Shot Noise","text":"Show isotopocule coverage different amino acids, thus highlighting isotopocules detected scans. Note 2H highlighted weak Alanine, Arginine, Phenylalanine. high cutoff (90%) orbi_flag_weak_isotopocules() appropriate shot-noise analyses simply inspecting ratios reasonable examine 2H signal least Alanine. Isotopocule coverage","code":"data |> orbi_plot_isotopocule_coverage()"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"visualize-satellite-peaks","dir":"Articles","previous_headings":"Data","what":"Visualize satellite peaks","title":"Shot Noise","text":"Show peaks flagged satellite peaks. Satellite peaks","code":"data |> orbi_plot_satellite_peaks()"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"visualize-intensity-vs-time","dir":"Articles","previous_headings":"Data","what":"Visualize intensity vs time","title":"Shot Noise","text":"Isotopocule intensity M0 ion","code":"data |> orbi_plot_raw_data(   isotopocules = \"M0\",    y = intensity,   y_scale = \"log\" )"},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"calculations","dir":"Articles","previous_headings":"Shot noise","what":"Calculations","title":"Shot Noise","text":"","code":"# calculate ratios vs basepeak data_w_bp <-    data |>   orbi_define_basepeak(\"M0\") ✔ [43ms] orbi_define_basepeak() set M0 as the ratio denominator and calculated 1458 ratios for 5 isotopocules/base peak (15N, 13C, 2H, 33S, and 34S) # calculate shot noise shot_noise <-   data_w_bp |>   orbi_analyze_shot_noise() ✔ [20ms] orbi_analyze_shot_noise() analyzed the shot noise for 1254 peaks (excluding 204 flagged peaks) # export shot noise to an Excel file shot_noise |>   orbi_export_data_to_excel(\"shot_noise.xlsx\") ✔ [289ms] orbi_export_data_to_excel() exported dataset (1254 rows, 33 columns) to shot_noise.xlsx"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"table","dir":"Articles","previous_headings":"Shot noise","what":"Table","title":"Shot Noise","text":"","code":"# example of the first few rows of the shot-noise calculations shot_noise |>   arrange(compound, isotopocule, scan.no) |>   select(compound, scan.no, time.min, isotopocule,          ratio, ratio_rel_se.permil, shot_noise.permil) |>   head(10) |>   knitr::kable()"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"visualize-ratios-vs-time","dir":"Articles","previous_headings":"Shot noise","what":"Visualize ratios vs time","title":"Shot Noise","text":"Isotopocule ratios vs M0","code":"data_w_bp |> orbi_plot_raw_data(y = ratio)"},{"path":"https://isoorbi.isoverse.org/dev/articles/shot_noise.html","id":"visualize-shot-noise","dir":"Articles","previous_headings":"Shot noise","what":"Visualize shot noise","title":"Shot Noise","text":"amino acids shotnoise","code":"shot_noise |> orbi_plot_shot_noise()"},{"path":"https://isoorbi.isoverse.org/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Caj Neubauer. Author, maintainer, copyright holder. Sebastian Kopf. Author. Kristýna Kantnerová. Author.","code":""},{"path":"https://isoorbi.isoverse.org/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kantnerova et al.","code":"@Article{,   author = {Kristyna Kantnerova and Nils Kuhlbusch and Dieter Juchelka and Andreas Hilkert and Sebastian H. Kopf and Cajetan Neubauer},   title = {A guide to precise measurements of isotope abundance by ESI-Orbitrap MS},   publisher = {Nature Publishing Group UK London},   journal = {Nature Protocols},   year = {2024},   pages = {1-32},   doi = {10.1038/s41596-024-00981-5}, }"},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Process Orbitrap Isotopocule Data","text":"goal isoorbi R package help process isotopocule measurements Orbitrap Isotope Solutions mass spectrometer. expects .isox files created IsoX input.","code":""},{"path":"https://isoorbi.isoverse.org/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Process Orbitrap Isotopocule Data","text":"can install current CRAN version isoorbi : use latest updates, can install development version isoorbi GitHub : Important: reading .raw files directly made possible rawrr package, wraps Thermo’s RawFileReader. first time read .raw file, asked agree Thermo’s license agreement proceed.","code":"install.packages(\"isoorbi\") if(!requireNamespace(\"pak\", quietly = TRUE)) install.packages(\"pak\") pak::pak(\"isoverse/isoorbi\")"},{"path":"https://isoorbi.isoverse.org/dev/index.html","id":"show-me-some-code","dir":"","previous_headings":"","what":"Show me some code","title":"Process Orbitrap Isotopocule Data","text":"","code":"library(isoorbi)  system.file(package = \"isoorbi\", \"extdata\", \"testfile_flow.isox\") |>   orbi_read_isox() |>   orbi_flag_satellite_peaks() |>   orbi_define_basepeak(basepeak_def = \"M0\")|>    orbi_summarize_results(ratio_method = \"sum\") |>   orbi_export_data_to_excel(file = \"data_summary.xlsx\")"},{"path":"https://isoorbi.isoverse.org/dev/index.html","id":"package-structure","dir":"","previous_headings":"","what":"Package structure","title":"Process Orbitrap Isotopocule Data","text":"Click individual functions jump straight documenation.","code":""},{"path":"https://isoorbi.isoverse.org/dev/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting help","title":"Process Orbitrap Isotopocule Data","text":"encounter bug, please file issue minimal reproducible example GitHub. questions discussion, please use isoorbi slack workspace.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/isoorbi-package.html","id":null,"dir":"Reference","previous_headings":"","what":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","title":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","text":"Read process isotopocule data Orbitrap Isotope Solutions mass spectrometer. Citation: Kantnerova et al. (Nature Protocols, 2024).","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/isoorbi-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","text":"Resources: Website isoorbi package: https://isoorbi.isoverse.org Package options: orbi_options","code":""},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/reference/isoorbi-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"isoorbi: Process Orbitrap Isotopocule Data — isoorbi-package","text":"Maintainer: Caj Neubauer caj.neubauer@colorado.edu (ORCID) [copyright holder] Authors: Sebastian Kopf sebastian.kopf@colorado.edu (ORCID) Kristýna Kantnerová kristyna.kantnerova@colorado.edu (ORCID)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_add_blocks_to_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot blocks background — orbi_add_blocks_to_plot","title":"Plot blocks background — orbi_add_blocks_to_plot","text":"function can used add colored background plot dual-inlet data different colors signify different data types (data, startup time, changeover time, unused). Note function works continuous pseudo-log y axis, log y axes.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_add_blocks_to_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot blocks background — orbi_add_blocks_to_plot","text":"","code":"orbi_add_blocks_to_plot(   plot,   x = c(\"guess\", \"scan.no\", \"time.min\"),   data_only = FALSE,   fill = .data$data_type,   fill_colors = c(\"#1B9E77\", \"#D95F02\", \"#7570B3\", \"#E7298A\", \"#66A61E\", \"#E6AB02\",     \"#A6761D\", \"#666666\"),   fill_scale = scale_fill_manual(\"blocks\", values = fill_colors),   alpha = 0.5,   show.legend = !data_only )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_add_blocks_to_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot blocks background — orbi_add_blocks_to_plot","text":"plot object dataset defined blocks x x-axis use (time vs. scan number). set \"guess\" (default), function try figure plot. data_only set TRUE, blocks flagged \"data\" (orbi_get_option(\"data_type_data\")) highlighted fill use fill aesthetic, default block data_type fill_colors colors use, default color-blind friendly color palettes (RColorBrewer, dark2) fill_scale use parameter replace entire fill scale rather just fill_colors alpha opacity settings background show.legend whether include background information legend","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_adjust_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Manually adjust block delimiters — orbi_adjust_block","title":"Manually adjust block delimiters — orbi_adjust_block","text":"function can used manually adjust certain block starts ends using either time scan number. Note adjusting blocks removes block segmentation. Make sure call orbi_segment_blocks() adjusting block delimiters.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_adjust_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Manually adjust block delimiters — orbi_adjust_block","text":"","code":"orbi_adjust_block(   dataset,   block,   filename = NULL,   shift_start_time.min = NULL,   shift_end_time.min = NULL,   shift_start_scan.no = NULL,   shift_end_scan.no = NULL,   set_start_time.min = NULL,   set_end_time.min = NULL,   set_start_scan.no = NULL,   set_end_scan.no = NULL )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_adjust_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Manually adjust block delimiters — orbi_adjust_block","text":"dataset tibble produced orbi_define_blocks_for_dual_inlet() block block adjust start /end filename needs specified dataset one filename shift_start_time.min provided, start time block shifted many minutes (use negative numbers shift back) shift_end_time.min provided, end time block shifted many minutes (use negative numbers shift back) shift_start_scan.provided, start block shifted many scans (use negative numbers shift back) shift_end_scan.provided, end block shifted many scans (use negative numbers shift back) set_start_time.min provided, sets start time block close possible time set_end_time.min provided, sets end time block close possible time set_start_scan.provided, sets start block scan number (scan must exist dataset) set_end_scan.provided, sets end block scan number (scan must exist dataset)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_adjust_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Manually adjust block delimiters — orbi_adjust_block","text":"data frame (tibble) block limits altered according provided start/end change parameters. data longer part original block marked value orbi_get_option(\"data_type_unused\"). previously applied segmentation discarded (segment column set NA) avoid unintended side effects.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregate_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate data from raw files — orbi_aggregate_raw","title":"Aggregate data from raw files — orbi_aggregate_raw","text":"function allows dynamic aggregation validation data read orbi_read_raw. Like orbi_read_raw(), designed fail save safely catching errors reporting back (see orbi_get_problems()). function work box files without additional modification aggregator.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregate_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate data from raw files — orbi_aggregate_raw","text":"","code":"orbi_aggregate_raw(   files_data,   aggregator = orbi_get_option(\"raw_aggregator\"),   show_progress = rlang::is_interactive(),   show_problems = TRUE )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregate_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate data from raw files — orbi_aggregate_raw","text":"files_data files read orbi_read_raw aggregator aggregator table (orbi_start_aggregator()) defines data aggregated . default takes predefined aggregator raw data files stored orbi_options() show_progress whether show progress bar, default always enabled running interactively e.g. inside RStudio (disabled notebook), turn show_progress = FALSE show_problems whether show problems encountered along way (rather just keeping track orbi_get_problems()). Set show_problems = FALSE turn live printout. Either way, encountered problems can retrieved running orbi_get_problems() returned list","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregate_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate data from raw files — orbi_aggregate_raw","text":"list merged dataframes collected files_data based aggregator definitions","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregator.html","id":null,"dir":"Reference","previous_headings":"","what":"Dynamic data agreggator — orbi_start_aggregator","title":"Dynamic data agreggator — orbi_start_aggregator","text":"functions allow definition custom data aggregators processing data extracted raw files. aggregator run imported file pulls together relevant data users interested making sure data formats correct aggregated data can merged across several imported files fast downstream processing.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dynamic data agreggator — orbi_start_aggregator","text":"","code":"orbi_start_aggregator(   dataset,   uid_source,   cast = \"as.factor\",   regexp = FALSE,   func = NULL,   args = NULL )  orbi_add_aggregator(   aggregator,   dataset,   column,   source = column,   default = NA,   cast = \"as.character\",   regexp = FALSE,   func = NULL,   args = NULL )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregator.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dynamic data agreggator — orbi_start_aggregator","text":"dataset name dataset aggregate data, e.g. \"file_info\" uid_source name column (inside dataset) aggregators \"uid\" (unique ID) column come cast cast values resulting column , commonly \".character\", \".integer\", \".numeric\", \".factor\". required ensure aggregated values correct data type. regexp whether source columm names interpreted regular expressions purpose finding relevant column(s). Note regexp = TRUE, search source column always becomes case-insensitive can also used direct match source column whose upper/lower casing can unreliable. func name processing function apply casting value cast function. optional can used conduct elaborate preprocessing data combining data multiple source columns correct way (e.g. pasting together multiple columns). args optional list arguments pass func addition values coming source colummn(s) aggregator aggregator table generated orbi_start_aggregator() passed previous call orbi_add_aggregator() constructing entire aggregator piping column name column data stored source single character column name vector column names (alternatives source) dataset find data column. vector multiple column names provided (e.g. source = c(\"a1\", \"a2\")), first column name found processing dataset used passed function defined func () one defined cast. provide multiple parameters data func, define list instead vector source = list(\"\", \"b\", \"c\") multiple alternative columns can source arguments, define source = list(c(\"a1\", \"a2\"), \"b\", c(\"c1\", \"c2\", \"c3\")) default default value source columns can found another error encountered aggregatio. Note default value also processed function cast make sure correct data type.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregator.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dynamic data agreggator — orbi_start_aggregator","text":"tibble holding columns aggregator generate run data file","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_aggregator.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Dynamic data agreggator — orbi_start_aggregator","text":"orbi_start_aggregator(): start aggregator, requires definition unique ID dataset comes orbi_add_aggregator(): add additional column aggregate data ","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_analyze_shot_noise.html","id":null,"dir":"Reference","previous_headings":"","what":"Shot noise calculation — orbi_analyze_shot_noise","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"function computes shot noise calculation.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_analyze_shot_noise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"","code":"orbi_analyze_shot_noise(dataset, include_flagged_data = FALSE)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_analyze_shot_noise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"dataset data frame output running orbi_define_basepeak() include_flagged_data whether include flagged data shot noise calculation (FALSE default)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_analyze_shot_noise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"processed data frame new columns: n_effective_ions, ratio, ratio_rel_se.permil, shot_noise.permil","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_analyze_shot_noise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Shot noise calculation — orbi_analyze_shot_noise","text":"Analyze shot noise calculate combinations filename, compound, isotopocule provided dataset","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_ratios.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate direct isotopocule ratios — orbi_calculate_ratios","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"function calculates isotopocule/base peak ratios isotopocules. summarize average ratios way. summarizing version function, see orbi_summarize_results().","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_ratios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"","code":"orbi_calculate_ratios(dataset)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_ratios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"dataset data frame output running orbi_define_basepeak()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_ratios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate direct isotopocule ratios — orbi_calculate_ratios","text":"Returns mutated dataset ratio column added.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_summarized_ratio.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"function calculates ratio two isotopocules (numerator denominator). function averages multiple measurements using ratio_method returns single value. Normally function called directly user, via function orbi_summarize_results(), calculates isotopocule ratios results entire dataset.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_summarized_ratio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"","code":"orbi_calculate_summarized_ratio(   numerator,   denominator,   ratio_method = c(\"direct\", \"mean\", \"sum\", \"median\", \"geometric_mean\", \"slope\",     \"weighted_sum\") )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_summarized_ratio.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"numerator Column(s) used numerator; contains ion counts denominator Column used denominator; contains ion counts ratio_method Method computing ratio. Please note well: formula used calculate ion ratios matters! simply use arithmetic mean. best option may depend type data processing (e.g., MS1 versus M+1 fragmentation). ratio_method can one following: mean: arithmetic mean ratios individual scans. sum: sum ions numerator across scans divided sum ions observed denominator across scans. geometric_mean: geometric mean ratios individual scans. slope: ratio calculated using slope obtained linear regression model weighted numerator x, using stats::lm(x ~ y + 0, weights = x). weighted_sum: derivative sum option. weighing function ensures scan contributes equal weight ratio calculation, .e. scans ions Orbitrap contribute disproportionately total sum x y used calculate x/y.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_summarized_ratio.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"Single value ratio isotopocules defined numerator denominator calculated using ratio_method.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_calculate_summarized_ratio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate isotopocule ratio — orbi_calculate_summarized_ratio","text":"","code":"df <-   system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") |>   orbi_read_isox() #> ✔ [146ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox  ions_18O <- dplyr::filter(df, isotopocule == \"18O\")$ions.incremental ions_M0 <- dplyr::filter(df, isotopocule == \"M0\")$ions.incremental  orbi_calculate_summarized_ratio(   numerator = ions_18O, denominator = ions_M0, ratio_method = \"sum\" ) #> [1] 0.01066211  orbi_calculate_summarized_ratio(   numerator = ions_18O, denominator = ions_M0, ratio_method = \"slope\" ) #> [1] 0.01071427"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_default_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Default isoorbi plotting theme — orbi_default_theme","title":"Default isoorbi plotting theme — orbi_default_theme","text":"Default isoorbi plotting theme","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_default_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default isoorbi plotting theme — orbi_default_theme","text":"","code":"orbi_default_theme(text_size = 16, facet_text_size = 20)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_default_theme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default isoorbi plotting theme — orbi_default_theme","text":"text_size font size text facet_text_size font size facet text","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_default_theme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default isoorbi plotting theme — orbi_default_theme","text":"ggplot theme object","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_basepeak.html","id":null,"dir":"Reference","previous_headings":"","what":"Define the denominator for ratio calculation — orbi_define_basepeak","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"orbi_define_basepeak() sets one isotopocule data frame base peak (ratio denominator) calculates instantaneous isotope ratios .","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_basepeak.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"","code":"orbi_define_basepeak(dataset, basepeak_def)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_basepeak.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"dataset tibble IsoX output. Needs contain columns filename, compound, scan., isotopocule, ions.incremental. basepeak_def isotopocule gets defined base peak, .e. denominator calculate ratios","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_basepeak.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"Input data frame without rows basepeak isotopocule instead three new columns called basepeak, basepeak_ions, ratio holding basepeak information isotope ratios vs. base peak","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_basepeak.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define the denominator for ratio calculation — orbi_define_basepeak","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_define_basepeak(basepeak_def = \"M0\") #> ✔ [20ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms #> ✔ [63ms] orbi_define_basepeak() set M0 as the ratio denominator and calculated #> 5159 ratios for 4 isotopocules/base peak (33S, 17O, 34S, and 18O)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_block_for_flow_injection.html","id":null,"dir":"Reference","previous_headings":"","what":"Define data block for flow injection — orbi_define_block_for_flow_injection","title":"Define data block for flow injection — orbi_define_block_for_flow_injection","text":"Define data block either start end time start end scan number. want make segments blocks (optional), note function - manually defining blocks - removes block segmentation. Make sure call orbi_segment_blocks() finishing block definitions.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_block_for_flow_injection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define data block for flow injection — orbi_define_block_for_flow_injection","text":"","code":"orbi_define_block_for_flow_injection(   dataset,   start_time.min = NULL,   end_time.min = NULL,   start_scan.no = NULL,   end_scan.no = NULL,   sample_name = NULL )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_block_for_flow_injection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define data block for flow injection — orbi_define_block_for_flow_injection","text":"dataset tibble Orbitrap data start_time.min set start time block end_time.min set end time block start_scan.set start scan block end_scan.set end scan block sample_name provided, used sample_name block","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_block_for_flow_injection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define data block for flow injection — orbi_define_block_for_flow_injection","text":"data frame (tibble) block definition added. data part block marked value orbi_get_option(\"data_type_unused\"). previously applied segmentation discarded (segment column set NA) avoid unintended side effects.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_blocks_for_dual_inlet.html","id":null,"dir":"Reference","previous_headings":"","what":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"function sorts (bins) data indivual blocks reference, sample, changeover time, startup time.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_blocks_for_dual_inlet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"","code":"orbi_define_blocks_for_dual_inlet(   dataset,   ref_block_time.min,   change_over_time.min,   sample_block_time.min = ref_block_time.min,   startup_time.min = 0,   ref_block_name = orbi_get_option(\"di_ref_name\"),   sample_block_name = orbi_get_option(\"di_sample_name\") )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_blocks_for_dual_inlet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"dataset data frame tibble produced IsoX data orbi_simplify_isox() ref_block_time.min time signal stable reference analyzed change_over_time.min time signal unstable switching reference sample back sample_block_time.min time signal stable sample analyzed startup_time.min initial time stabilize spray ref_block_name name reference measured sample_block_name name sample measured","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_define_blocks_for_dual_inlet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Binning raw data into blocks for dual inlet analyses — orbi_define_blocks_for_dual_inlet","text":"data frame (tibble) block annotations form additional columns described : data_group integer numbers data group (whether startup, sample block, segment, etc.) file sequentially uniquely identify groups data belong together - columns static (.e. functions like orbi_adjust_block() orbi_segment_blocks() lead renumbering) used purely grouping purposes calculations visualization block integer counting data blocks file (0 startup block) sample_name name material measured defined ref_block_name sample_block_name parameters segment integer defines segments within individual blocks - NA optional orbi_segment_blocks() called data_type text value describing type data data_group - list main categories, call orbi_get_options(\"data_type\")","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_export_data_to_excel.html","id":null,"dir":"Reference","previous_headings":"","what":"Export data frame to excel — orbi_export_data_to_excel","title":"Export data frame to excel — orbi_export_data_to_excel","text":"functions exports final dataset Excel file.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_export_data_to_excel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export data frame to excel — orbi_export_data_to_excel","text":"","code":"orbi_export_data_to_excel(   dataset,   file,   dbl_digits = 7,   int_format = \"0\",   dbl_format = sprintf(sprintf(\"%%.%sf\", dbl_digits), 0) )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_export_data_to_excel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export data frame to excel — orbi_export_data_to_excel","text":"dataset data frame file file path export file dbl_digits many digits show dbls (exported) int_format excel formatting style integers dbl_format excel formatting style doubles (created automatically dbl_digits parameter)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_export_data_to_excel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export data frame to excel — orbi_export_data_to_excel","text":"returns dataset invisibly use pipes","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_flagged_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter out flagged data — orbi_filter_flagged_data","title":"Filter out flagged data — orbi_filter_flagged_data","text":"function filters data previously flagged using functions orbi_flag_satellite_peaks(), orbi_flag_weak_isotopocules(), /orbi_flag_outliers(). Note function longer necessary call explicitly orbi_analyze_shot_noise() orbi_summarize_results() automatically exclude flagged data.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_flagged_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter out flagged data — orbi_filter_flagged_data","text":"","code":"orbi_filter_flagged_data(dataset)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_flagged_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter out flagged data — orbi_filter_flagged_data","text":"dataset tibble previously flagged data orbi_flag_satellite_peaks(), orbi_flag_weak_isotopocules(), /orbi_flag_outliers()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_flagged_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter out flagged data — orbi_filter_flagged_data","text":"dataset flagged data filtered ","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic generic filter for IsoX data — orbi_filter_isox","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"basic filter function orbi_filter_isox() file names, isotopocules, compounds time ranges. Default value parameters NULL, .e. filter applied.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"","code":"orbi_filter_isox(   dataset,   filenames = NULL,   compounds = NULL,   isotopocules = NULL,   time_min = NULL,   time_max = NULL )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"dataset IsoX data filtered filenames Vector file names keep, keeps set NULL (default) compounds Vector compounds keep, keeps set NULL (default) isotopocules Vector isotopocules keep, keeps set NULL (default) time_min Minimum retention time minutes (time.min), minimum set NULL (default) time_max Maximum retention time minutes (time.min), maximum set NULL (default)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_isox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"Filtered tibble","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic generic filter for IsoX data — orbi_filter_isox","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <-   orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_filter_isox(     filenames = c(\"s3744\"),     compounds = \"HSO4-\",     isotopocules = c(\"M0\", \"34S\", \"18O\")   ) #> ✔ [20ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [9ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms #> ✔ [7ms] orbi_filter_isox() filtered the dataset by filenames (s3744), compounds #> (HSO4-), and isotopocules (M0, 34S, 18O) and removed a total of 5159/6449 rows #> (80.0%)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_satellite_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","title":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","text":"Function replaced orbi_flag_satellite_peaks()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_satellite_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","text":"","code":"orbi_filter_satellite_peaks(...)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_satellite_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function replaced by orbi_flag_satellite_peaks() — orbi_filter_satellite_peaks","text":"... parameters passed new function orbi_flag_satellite_peaks().","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_scan_intensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","title":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","text":"Function replaced orbi_flag_outliers()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_scan_intensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","text":"","code":"orbi_filter_scan_intensity(..., outlier_percent)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_scan_intensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function replaced by orbi_flag_outliers() — orbi_filter_scan_intensity","text":"... parameters passed new function orbi_flag_outliers(). outlier_percent outlier_percent needs 0 10, flags extreme scans based TIC x injection time (.e., ion intensity)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_weak_isotopocules.html","id":null,"dir":"Reference","previous_headings":"","what":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","title":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","text":"Function replaced orbi_flag_weak_isotopocules()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_weak_isotopocules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","text":"","code":"orbi_filter_weak_isotopocules(...)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_filter_weak_isotopocules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function replaced by orbi_flag_weak_isotopocules() — orbi_filter_weak_isotopocules","text":"... parameters passed new function orbi_flag_weak_isotopocules().","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Find isox files — orbi_find_isox","title":"Find isox files — orbi_find_isox","text":"Finds .isox files folder.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find isox files — orbi_find_isox","text":"","code":"orbi_find_isox(folder, recursive = TRUE)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find isox files — orbi_find_isox","text":"folder path folder isox files recursive whether find files recursively","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find isox files — orbi_find_isox","text":"","code":"# all .isox files provided with the isoorbi package orbi_find_isox(system.file(\"extdata\", package = \"isoorbi\")) #> [1] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_dual_inlet.isox\"     #> [2] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_dual_inlet_new.isox\" #> [3] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_flow.isox\"           #> [4] \"/home/runner/work/_temp/Library/isoorbi/extdata/testfile_shotnoise.isox\""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Find raw files — orbi_find_raw","title":"Find raw files — orbi_find_raw","text":"Finds .raw files folder.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find raw files — orbi_find_raw","text":"","code":"orbi_find_raw(folder, include_cache = TRUE, recursive = TRUE)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find raw files — orbi_find_raw","text":"folder path folder raw files include_cache whether include .raw.cache folders absence corresponding .raw file copies cache read even absence original raw files recursive whether find files recursively","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_find_raw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find raw files — orbi_find_raw","text":"","code":"# all .raw files provided with the isoorbi package orbi_find_raw(system.file(\"extdata\", package = \"isoorbi\")) #> [1] \"/home/runner/work/_temp/Library/isoorbi/extdata/nitrate_test_10scans.raw\" #> [2] \"/home/runner/work/_temp/Library/isoorbi/extdata/nitrate_test_1scan.raw\""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_outliers.html","id":null,"dir":"Reference","previous_headings":"","what":"Flag outlier scans — orbi_flag_outliers","title":"Flag outlier scans — orbi_flag_outliers","text":"function orbi_flag_outliers() flags outliers using one different methods provided parameters (use multiple, please call function several times sequentially). Note function evaluates outliers within \"filename\", \"block\", \"segment\" \"injection\" (columns exist), addition groupings already defined calling function using dplyr's group_by(). restores original groupings returned data frame.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_outliers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag outlier scans — orbi_flag_outliers","text":"","code":"orbi_flag_outliers(dataset, agc_fold_cutoff = NA_real_, agc_window = c())"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_outliers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag outlier scans — orbi_flag_outliers","text":"dataset Simplified IsoX dataset outliers flagged agc_fold_cutoff flags scans fold cutoff based average number ions Orbitrap analyzer. example, agc_fold_cutoff = 2 flags scans 2 times, less 1/2 times average. TIC multiplied injection time serves estimate number ions Orbitrap. agc_window flags scans critically low high number ions Orbitrap analyzer. Provide vector 2 numbers c(x,y) flagging lowest x percent highest y percent. TIC multiplied injection time serves estimate number ions Orbitrap.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_outliers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flag outlier scans — orbi_flag_outliers","text":"data frame new columns is_outlier outlier_type (already exist) flags outliers identified method provides type outlier (e.g. \"2 fold agc cutoff\"), respectively.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_outliers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flag outlier scans — orbi_flag_outliers","text":"Function intended flag scans outliers. input dataset expected least 8 columns: filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_outliers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flag outlier scans — orbi_flag_outliers","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <-   orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_flag_outliers(agc_window = c(1,99)) #> ✔ [20ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms #> ✔ [40ms] orbi_flag_outliers() flagged 24/1290 scans (1.9%) as outliers based on #> AGC window (1% to 99%) cutoff, i.e. based on scans whose number of ions tic * #> it.ms in the Orbitrap analyzer fall into the lowest (<1%) or highest (>99%) #> quantiles, in 3 data groups (based on filename) → use orbi_plot_raw_data(y = #> tic * it.ms) to visualize them"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_satellite_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Flag minor satellite peaks — orbi_flag_satellite_peaks","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"Flag minor signals (e.g., satellite peaks) reported IsoX (filter orbi_filter_flagged_data()).","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_satellite_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"","code":"orbi_flag_satellite_peaks(dataset)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_satellite_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"dataset data frame tibble produced IsoX data orbi_simplify_isox()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_satellite_peaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"data frame new column is_satellite_peak flags satellite peaks.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_satellite_peaks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"orbi_filter_satellite_peaks() function removes minor signals isotopocule reported IsoX. often small satellite peaks generated Fourier transform. signal high intensity many signals, can indicate m/z tolerance setting used processing .raw files IsoX incorrect.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_satellite_peaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flag minor satellite peaks — orbi_flag_satellite_peaks","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <-   orbi_read_isox(file = fpath) |>   orbi_simplify_isox() |>   orbi_flag_satellite_peaks() #> ✔ [20ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms #> ✔ [173ms] orbi_flag_satellite_peaks() confirmed there are no satellite peaks"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_weak_isotopocules.html","id":null,"dir":"Reference","previous_headings":"","what":"Flag weak isotopocules — orbi_flag_weak_isotopocules","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"function orbi_filter_weak_isotopocules() flags isotopocules detected minimum min_percent scans. function evaluates weak isotopocules within \"filename\", \"block\", \"segment\" \"injection\" (columns exist), addition groupings already defined calling function using dplyr's group_by(). restores original groupings returned data frame.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_weak_isotopocules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"","code":"orbi_flag_weak_isotopocules(dataset, min_percent)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_weak_isotopocules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"dataset simplified IsoX data frame processed min_percent number 0 90. Isotopocule must observed least percentage scans (please note: percentage defined relative commonly observed isotopocule compound)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_weak_isotopocules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"data frame new column is_weak_isotopocule flags weak isotopocules.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_weak_isotopocules.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"input dataset expected least 8 columns: filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_flag_weak_isotopocules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flag weak isotopocules — orbi_flag_weak_isotopocules","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) |>       orbi_simplify_isox() |>       orbi_flag_weak_isotopocules(min_percent = 2) #> ✔ [20ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms #> ✔ [30ms] orbi_flag_weak_isotopocules() confirmed there are no weak #> isotopocules: all are detected in at least 2% of scans in each of the 15 data #> groups (based on filename, compound, and isotopocule)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_blocks_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize blocks info — orbi_get_blocks_info","title":"Summarize blocks info — orbi_get_blocks_info","text":"function provides overview table blocks_info shows information blocks dataset (block number, sample name, data type, scan number start time block starts, scan number end time block ends).","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_blocks_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize blocks info — orbi_get_blocks_info","text":"","code":"orbi_get_blocks_info(   dataset,   .by = c(\"filename\", \"injection\", \"data_group\", \"block\", \"sample_name\", \"data_type\",     \"segment\") )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_blocks_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize blocks info — orbi_get_blocks_info","text":"dataset tibble produced orbi_define_blocks_for_dual_inlet() .grouping columns block info (akin dplyr's .parameter e.g. dplyr::summarize()). set user, columns parameter's default values used, present dataset.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_blocks_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize blocks info — orbi_get_blocks_info","text":"block summary blocks defined yet, empty tibble (warning)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data frame from aggregated data — orbi_get_data","title":"Get data frame from aggregated data — orbi_get_data","text":"Retrieve specific subset aggregated data single data frame specifying columns take dataset (file_info, scans, peaks, etc.) using dplyr::select() syntax. data one dataset selected (e.g. columns scans peaks), datasets combined dplyr::inner_join() using columns listed (ones actually datasets). Joins lead duplicated data entries (.e. many--many joins) allowed throw error avoid unexpected replications individual datapoints. really want join, manually.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data frame from aggregated data — orbi_get_data","text":"","code":"orbi_get_data(   aggregated_data,   file_info = NULL,   scans = NULL,   peaks = NULL,   spectra = NULL,   problems = NULL,   by = c(\"uid\", \"scan\") )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get data frame from aggregated data — orbi_get_data","text":"aggregated_data datasets aggregated orbi_aggregate_raw() file_info columns get aggregated file_info, dplyr::select() syntax supported scans columns get aggregated scans, dplyr::select() syntax supported peaks columns get aggregated peaks, dplyr::select() syntax supported spectra columns get aggregated spectra, dplyr::select() syntax supported problems columns get aggregated problems, dplyr::select() syntax supported columns look joining datasets together. Make sure include relevant columns selections individual datasets joined correctly.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get data frame from aggregated data — orbi_get_data","text":"tibble","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_isotopocule_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate isotopocule coverage — orbi_get_isotopocule_coverage","title":"Calculate isotopocule coverage — orbi_get_isotopocule_coverage","text":"Calculate stretches data data isotopocules. function usually used indicrectly orbi_plot_isotopocule_coverage() can called directly investigate isotopocule coverage.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_isotopocule_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate isotopocule coverage — orbi_get_isotopocule_coverage","text":"","code":"orbi_get_isotopocule_coverage(dataset)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_isotopocule_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate isotopocule coverage — orbi_get_isotopocule_coverage","text":"dataset data frame tibble produced IsoX data","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_isotopocule_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate isotopocule coverage — orbi_get_isotopocule_coverage","text":"summary data frame","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all isoorbi package settings — orbi_get_settings","title":"Get all isoorbi package settings — orbi_get_settings","text":"orbi_get_settings() renamed orbi_get_options() part isoorbi switching 'settings' 'options' consistent base R naming conventions","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all isoorbi package settings — orbi_get_settings","text":"","code":"orbi_get_settings(pattern = NULL)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_get_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get all isoorbi package settings — orbi_get_settings","text":"pattern passed orbi_get_options()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Package options — orbi_options","title":"Package options — orbi_options","text":"options best set via orbi_options() queried via orbi_get_option(). However, base functions options() getOption() work well require isoorbi. prefix (package name dot) option name. Setting option value NULL means default used. orbi_get_options() available additional convenience function retrieve subset options regular expression pattern.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Package options — orbi_options","text":"","code":"orbi_options(...)  orbi_get_options(pattern = NULL)  orbi_get_option(x)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Package options — orbi_options","text":"... set package options, syntax identical options() pattern retrieve multiple options (list) shared pattern x name specific option retrieve","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_options.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Package options — orbi_options","text":"orbi_options(): set/get option values orbi_get_options(): get subset option values fit pattern orbi_get_option(): retrieve current value one option (option must defined package)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_options.html","id":"options-for-the-isoorbi-package","dir":"Reference","previous_headings":"","what":"Options for the isoorbi package","title":"Package options — orbi_options","text":"di_ref_name: text label dual inlet reference blocks di_sample_name: text label dual inlet sample blocks data_type_data: text used flag raw data actually data data_type_startup: text used flag raw data part startup data_type_changeover: text used flag raw data part changeover data_type_unused: text used flag raw data unused raw_aggregator: configuration pulling data raw files debug: turn debug mode auto_use_ansi: whether automatically enable correct rendering stylized (ansi) output HTML reports notebooks call library(isoorbi). Can turned calling isoorbi::orbi_options(auto_use_ansi = FALSE) call library(isoorbi).","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_options.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Package options — orbi_options","text":"","code":"# All default options orbi_get_options() #> $di_ref_name #> [1] \"ref\" #>  #> $di_sample_name #> [1] \"sam\" #>  #> $data_type_data #> [1] \"data\" #>  #> $data_type_startup #> [1] \"startup\" #>  #> $data_type_changeover #> [1] \"changeover\" #>  #> $data_type_unused #> [1] \"unused\" #>  #> $raw_aggregator #> # A tibble: 22 × 8 #>    dataset   column              source     default regexp cast     func  args   #>    <chr>     <chr>               <list>     <lgl>   <lgl>  <chr>    <chr> <list> #>  1 file_info \"uid\"               <list [1]> NA      FALSE  as.fact… NA    <NULL> #>  2 file_info \"\\\\1\"               <list [1]> NA      TRUE   as.char… NA    <NULL> #>  3 scans     \"scan\"              <list [1]> NA      FALSE  as.inte… NA    <NULL> #>  4 scans     \"time.min\"          <list [1]> NA      FALSE  as.nume… NA    <NULL> #>  5 scans     \"tic\"               <list [1]> NA      FALSE  as.nume… NA    <NULL> #>  6 scans     \"it.ms\"             <list [1]> NA      FALSE  as.nume… NA    <NULL> #>  7 scans     \"resolution\"        <list [1]> NA      FALSE  as.nume… NA    <NULL> #>  8 scans     \"basePeakIntensity\" <list [1]> NA      FALSE  as.nume… sapp… <list> #>  9 scans     \"rawOvFtT\"          <list [1]> NA      FALSE  as.nume… NA    <NULL> #> 10 scans     \"intensCompFactor\"  <list [1]> NA      FALSE  as.nume… NA    <NULL> #> # ℹ 12 more rows #>  #> $debug #> [1] FALSE #>  #> $auto_use_ansi #> [1] TRUE #>   # Options that contain 'data' in the name orbi_get_options(\"data\") #> $data_type_data #> [1] \"data\" #>  #> $data_type_startup #> [1] \"startup\" #>  #> $data_type_changeover #> [1] \"changeover\" #>  #> $data_type_unused #> [1] \"unused\" #>   # Specific option orbi_get_option(\"data_type_unused\") #> [1] \"unused\"  # Change an option orbi_options(data_type_unused = \"flagged\") orbi_get_option(\"data_type_unused\") #> [1] \"flagged\"  # Change back to default orbi_options(data_type_unused = NULL) orbi_get_option(\"data_type_unused\") #> [1] \"unused\""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_isotopocule_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot isotopocule coverage — orbi_plot_isotopocule_coverage","title":"Plot isotopocule coverage — orbi_plot_isotopocule_coverage","text":"Weak isotopocules (previously defined orbi_flag_weak_isotopocules()) highlighted weak_isotopocules_color.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_isotopocule_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot isotopocule coverage — orbi_plot_isotopocule_coverage","text":"","code":"orbi_plot_isotopocule_coverage(   dataset,   isotopocules = c(),   x = c(\"scan.no\", \"time.min\"),   x_breaks = scales::breaks_pretty(5),   add_data_blocks = TRUE )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_isotopocule_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot isotopocule coverage — orbi_plot_isotopocule_coverage","text":"dataset isox data isotopocules isotopocules visualize, none provided visualize (may take long time even crash R session many isotopocules data set) x x-axis column plot, either \"time.min\" \"scan.\" x_breaks breaks use x axis, change make specifid tickmarks add_data_blocks add highlight data blocks block definitions dataset (uses orbi_add_blocks_to_plot()). add blocks manually, set add_data_blocks = FALSE manually call orbi_add_blocks_to_plot() function afterwards.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_isotopocule_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot isotopocule coverage — orbi_plot_isotopocule_coverage","text":"ggplot object","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_raw_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize raw data — orbi_plot_raw_data","title":"Visualize raw data — orbi_plot_raw_data","text":"Call function visualize orbitrap data vs. time scan number. common uses orbi_plot_raw_data(y = intensity), orbi_plot_raw_data(y = ratio), orbi_plot_raw_data(y = tic * .ms). default includes isotopcules previously identified orbi_flag_weak_isotopcules() (already called dataset). narrow isotopocules show, use isotopocule parameter.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_raw_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize raw data — orbi_plot_raw_data","text":"","code":"orbi_plot_raw_data(   dataset,   isotopocules = c(),   x = c(\"time.min\", \"scan.no\"),   x_breaks = scales::breaks_pretty(5),   y,   y_scale = c(\"raw\", \"linear\", \"pseudo-log\", \"log\"),   y_scale_sci_labels = TRUE,   color = .data$isotopocule,   colors = c(\"#1B9E77\", \"#D95F02\", \"#7570B3\", \"#E7298A\", \"#66A61E\", \"#E6AB02\", \"#A6761D\",     \"#666666\"),   color_scale = scale_color_manual(values = colors),   add_data_blocks = TRUE,   add_all_blocks = FALSE,   show_outliers = TRUE )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_raw_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize raw data — orbi_plot_raw_data","text":"dataset isox dataset isotopocules isotopocules visualize, none provided visualize (may take long time even crash R session many isotopocules data set) x x-axis column plot, either \"time.min\" \"scan.\" x_breaks breaks use x axis, change make specifid tickmarks y expression plot y-axis, e.g. intensity, tic * .ms (pick one isotopocules identical different istopocules), ratio. Depending variable, may want adjust y_scale potentially y_scale_sci_labels argument. y_scale type y scale use: \"log\" scale, \"pseudo-log\" scale (smoothly transitions linear scale around 0), \"linear\" scale, \"raw\" (want add y scale plot manually instead) y_scale_sci_labels whether render numbers scientific exponential notation color expression use color aesthetic, default isotopocule colors colors use, default color-blind friendly color palettes (RColorBrewer, dark2) color_scale use parameter replace entire color scale rather just colors add_data_blocks add highlight data blocks block definitions dataset (uses orbi_add_blocks_to_plot()). add blocks manually, set add_data_blocks = FALSE manually call orbi_add_blocks_to_plot() function afterwards. add_all_blocks add highlight blocks, just data blocks (equivalent data_only = FALSE argument orbi_add_blocks_to_plot()) show_outliers whether highlight data previously flagged outliers orbi_flag_outliers()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_raw_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize raw data — orbi_plot_raw_data","text":"ggplot object","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_satellite_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize satellite peaks — orbi_plot_satellite_peaks","title":"Visualize satellite peaks — orbi_plot_satellite_peaks","text":"Call function time flagging satellite peaks see . Use isotopocules argument focus specific isotopocules interest.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_satellite_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize satellite peaks — orbi_plot_satellite_peaks","text":"","code":"orbi_plot_satellite_peaks(   dataset,   isotopocules = c(),   x = c(\"scan.no\", \"time.min\"),   x_breaks = scales::breaks_pretty(5),   y_scale = c(\"log\", \"pseudo-log\", \"linear\", \"raw\"),   y_scale_sci_labels = TRUE,   colors = c(\"#1B9E77\", \"#D95F02\", \"#7570B3\", \"#E7298A\", \"#66A61E\", \"#E6AB02\", \"#A6761D\",     \"#666666\"),   color_scale = scale_color_manual(values = colors) )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_satellite_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize satellite peaks — orbi_plot_satellite_peaks","text":"dataset isox dataset satellite peaks identified (orbi_flag_satellite_peaks()) isotopocules isotopocules visualize, none provided visualize (may take long time even crash R session many isotopocules data set) x x-axis column plot, either \"time.min\" \"scan.\" x_breaks breaks use x axis, change make specifid tickmarks y_scale type y scale use: \"log\" scale, \"pseudo-log\" scale (smoothly transitions linear scale around 0), \"linear\" scale, \"raw\" (want add y scale plot manually instead) y_scale_sci_labels whether render numbers scientific exponential notation colors colors use, default color-blind friendly color palettes (RColorBrewer, dark2) color_scale use parameter replace entire color scale rather just colors","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_satellite_peaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize satellite peaks — orbi_plot_satellite_peaks","text":"ggplot object","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_shot_noise.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a shot noise plot — orbi_plot_shot_noise","title":"Make a shot noise plot — orbi_plot_shot_noise","text":"function creates shot noise plot using shotnoise data frame created orbi_analyze_shot_noise() function.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_shot_noise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a shot noise plot — orbi_plot_shot_noise","text":"","code":"orbi_plot_shot_noise(   shotnoise,   x = c(\"time.min\", \"n_effective_ions\"),   permil_target = NA_real_,   color = \"ratio_label\",   colors = c(\"#1B9E77\", \"#D95F02\", \"#7570B3\", \"#E7298A\", \"#66A61E\", \"#E6AB02\", \"#A6761D\",     \"#666666\") )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_shot_noise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a shot noise plot — orbi_plot_shot_noise","text":"shotnoise shotnoise data frame x x-axis shot noise plot, either \"time.min\" \"n_effective_ions\" permil_target highlight target permil shotnoise plot color column use color aesthetic (must factor) colors colors use, default color-blind friendly color palettes (RColorBrewer, dark2)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_shot_noise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a shot noise plot — orbi_plot_shot_noise","text":"ggplot object","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_plot_shot_noise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make a shot noise plot — orbi_plot_shot_noise","text":"plot shot noise","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Read IsoX file — orbi_read_isox","title":"Read IsoX file — orbi_read_isox","text":"Read IsoX dataput file (.isox) tibble data frame.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read IsoX file — orbi_read_isox","text":"","code":"orbi_read_isox(file)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read IsoX file — orbi_read_isox","text":"file Path .isox file(s), single value vector paths","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_isox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read IsoX file — orbi_read_isox","text":"tibble containing minimum columns filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_isox.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read IsoX file — orbi_read_isox","text":"Additional information columns: filename: name original Thermo .raw file processed IsoX scan.: scan number time.min: acquisition retention time minutes compound: name compound (e.g., NO3-) isotopocule: name isotopocule (e.g., 15N); called isotopolog .isox ions.incremental: estimated number ions, increments since calculated number tic: total ion current (TIC) scan .ms: scan injection time () millisecond (ms)","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read IsoX file — orbi_read_isox","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_dual_inlet.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) #> ✔ [10ms] orbi_read_isox() loaded 5184 peaks for 1 compound (NO3-) with 6 #> isotopocules (15N, 17O, 18O, 15N18O, 17O18O, and 18O18O) from #> testfile_dual_inlet.isox"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Read RAW files — orbi_read_raw","title":"Read RAW files — orbi_read_raw","text":"Read raw data files (.raw) Orbitrap IRMS runs directly. function extracts available information thus can relatively slow (~1s / Mb typical personal computer) caching true first time. results can used directly , typically, aggregated orbi_aggregate_raw() safely extract relevant information downstream processing.  function designed fail save safely catching errors reporting back (see orbi_get_problems()).","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read RAW files — orbi_read_raw","text":"","code":"orbi_read_raw(   file_paths,   show_progress = rlang::is_interactive(),   show_problems = TRUE,   include_spectra = FALSE,   cache = TRUE,   cache_spectra = cache,   read_cache = TRUE )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read RAW files — orbi_read_raw","text":"file_paths paths .raw file(s), single value vector paths. Use orbi_find_raw() get raw files folder. show_progress whether show progress bar, default always enabled running interactively e.g. inside RStudio (disabled notebook), turn show_progress = FALSE show_problems whether show problems encountered along way (rather just keeping track orbi_get_problems()). Set show_problems = FALSE turn live printout. Either way, encountered problems can retrieved running orbi_get_problems() returned list include_spectra whether include spectral data specific scans (e.g. include_spectra = c(5, 100, 200) reads spectra scans 5, 100, 200 file exist) scans (include_spectra = TRUE). Including many scan spectra makes read process slower (especially cache_spectra = FALSE) returned data frame tibble significantely larger. default FALSE (.e. scan spectra returned). cache whether automatically cache read raw files (writes highly efficient .parquet files folder name file .cache appended) cache_spectra whether automatically cache requested scan spectra (can take significant disc space), default cache read_cache whether read file cached .parquet files (exist) anew","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_read_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read RAW files — orbi_read_raw","text":"tibble data frame row holds file path nested tibbles datasets extracted raw file (typically cache_info, scans, peaks, spectra). safest way extract data without needing make assumptions compatibility across files. Extract data interest tibble columns use orbi_aggregate_raw() extract safely across files.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_segment_blocks.html","id":null,"dir":"Reference","previous_headings":"","what":"Segment data blocks — orbi_segment_blocks","title":"Segment data blocks — orbi_segment_blocks","text":"step optional intended make easy explore data within sample ref data block. Note raw data identified data_type set \"data\" (orbi_get_option(\"data_type_data\")) stay unsegmented. includes raw data flagged \"startup\", \"changeover\", \"unused\".","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_segment_blocks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Segment data blocks — orbi_segment_blocks","text":"","code":"orbi_segment_blocks(   dataset,   into_segments = NULL,   by_scans = NULL,   by_time_interval = NULL )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_segment_blocks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Segment data blocks — orbi_segment_blocks","text":"dataset tibble produced orbi_define_blocks_for_dual_inlet() into_segments segment data block many segments. result exactly number segments data block except segments requested observations group (case observation one segment) by_scans segment data block segments spanning number scans. result approximately requested number scans per segment, depending sensible distribution data. example, hypothetical data block 31 scans, by_scans = 10, function create 3 segments 11, 10 10 scans (evenly distributed), instead 4 segments 10, 10, 10, 1 (less evenly distributed). by_time_interval segment data block segments spanning time interval. result requested time interval segments except usually last one almost always shorter requested interval.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_set_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Set package settings — orbi_set_settings","title":"Set package settings — orbi_set_settings","text":"orbi_set_settings() renamed orbi_options() part isoorbi switching 'settings' 'options' consistent base R naming conventions","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_set_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set package settings — orbi_set_settings","text":"","code":"orbi_set_settings(...)"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_set_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set package settings — orbi_set_settings","text":"... named arguments set specific options, passed orbi_options()","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_simplify_isox.html","id":null,"dir":"Reference","previous_headings":"","what":"Simplify IsoX data — orbi_simplify_isox","title":"Simplify IsoX data — orbi_simplify_isox","text":"Keep columns directly relevant isotopocule ratio analysis. function optional affect downstream function calls.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_simplify_isox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simplify IsoX data — orbi_simplify_isox","text":"","code":"orbi_simplify_isox(dataset, add = c())"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_simplify_isox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simplify IsoX data — orbi_simplify_isox","text":"dataset IsoX data simplified add additional columns keep","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_simplify_isox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simplify IsoX data — orbi_simplify_isox","text":"tibble containing 9 columns: filepath, filename, scan., time.min, compound, isotopocule, ions.incremental, tic, .ms, plus additional columns defined add argument","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_simplify_isox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simplify IsoX data — orbi_simplify_isox","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package=\"isoorbi\") df <- orbi_read_isox(file = fpath) |> orbi_simplify_isox() #> ✔ [21ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_summarize_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate the results table — orbi_summarize_results","title":"Generate the results table — orbi_summarize_results","text":"Contains logic generate results table. passes  ratio_method parameter orbi_calculate_summarized_ratio() function ratio calculations.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_summarize_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate the results table — orbi_summarize_results","text":"","code":"orbi_summarize_results(   dataset,   ratio_method = c(\"mean\", \"sum\", \"median\", \"geometric_mean\", \"slope\", \"weighted_sum\"),   .by = c(\"block\", \"sample_name\", \"segment\", \"data_group\", \"data_type\", \"injection\"),   include_flagged_data = FALSE,   include_unused_data = FALSE )"},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_summarize_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate the results table — orbi_summarize_results","text":"dataset tibble IsoX output (orbi_read_isox()) basepeak already defined (using orbi_define_basepeak()). Optionally, block definitions (orbi_define_blocks_for_dual_inlet()) even additional block segments (orbi_segment_blocks()). ratio_method Method computing ratio. Please note well: formula used calculate ion ratios matters! simply use arithmetic mean. best option may depend type data processing (e.g., MS1 versus M+1 fragmentation). ratio_method can one following: mean: arithmetic mean ratios individual scans. sum: sum ions numerator across scans divided sum ions observed denominator across scans. geometric_mean: geometric mean ratios individual scans. slope: ratio calculated using slope obtained linear regression model weighted numerator x, using stats::lm(x ~ y + 0, weights = x). weighted_sum: derivative sum option. weighing function ensures scan contributes equal weight ratio calculation, .e. scans ions Orbitrap contribute disproportionately total sum x y used calculate x/y. .additional grouping columns results summary (akin dplyr's .parameter e.g. dplyr::summarize()). set user, columns parameter's default values used, present dataset. Note order also used arrange summary. include_flagged_data whether include flagged data calculations (FALSE default) include_unused_data whether include unused data calculations (FALSE default), addition peaks actually flagged orbi_get_option(\"data_type_data\")","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_summarize_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate the results table — orbi_summarize_results","text":"Returns results summary table retaining columns filename, compound, isotopocule basepeak well grouping columns .parameter part input dataset. Additionally function adds following results columns: start_scan., end_scan., start_time.min, mean_time.min, end_time.min, ratio, ratio_sem, ratio_relative_sem_permil, shot_noise_permil, ..Scans, minutes_to_1e6_ions ratio: isotope ratio isotopocule basepeak, calculated using ratio_method ratio_sem: Standard error mean ratio number_of_scans: Number scans used final ratio calculation minutes_to_1e6_ions: Time minutes take observe 1 million ions isotopocule used numerator ratio calculation. shot_noise_permil: Estimate shot noise (correctly thermal noise) reported ratio permil. ratio_relative_sem_permil: Relative standard error reported ratio permil","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/orbi_summarize_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate the results table — orbi_summarize_results","text":"","code":"fpath <- system.file(\"extdata\", \"testfile_flow.isox\", package = \"isoorbi\") df <- orbi_read_isox(file = fpath) |>       orbi_simplify_isox() |>       orbi_define_basepeak(\"M0\")  |>       orbi_summarize_results(ratio_method = \"sum\") #> ✔ [20ms] orbi_read_isox() loaded 6449 peaks for 1 compound (HSO4-) with 5 #> isotopocules (M0, 33S, 17O, 34S, and 18O) from testfile_flow.isox #> ✔ [5ms] orbi_simplify_isox() kept columns filepath, filename, scan.no, #> time.min, compound, isotopocule, ions.incremental, tic, and it.ms #> ✔ [64ms] orbi_define_basepeak() set M0 as the ratio denominator and calculated #> 5159 ratios for 4 isotopocules/base peak (33S, 17O, 34S, and 18O) #> ✔ [84ms] orbi_summarize_results() summarized ratios from 5159 peaks using the #> sum method and grouping the data by filename, compound, basepeak, and #> isotopocule"},{"path":"https://isoorbi.isoverse.org/dev/reference/problems.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve parsing problems — orbi_get_problems","title":"Retrieve parsing problems — orbi_get_problems","text":"function retrieves parsing problems encountered reading processing files. function prints parsing problems encountered reading processing files.","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/problems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve parsing problems — orbi_get_problems","text":"","code":"orbi_get_problems(obj, strip_ansi = TRUE)  orbi_show_problems(obj)"},{"path":"https://isoorbi.isoverse.org/dev/reference/problems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve parsing problems — orbi_get_problems","text":"obj data object holds problems information strip_ansi whether remove ansi characters message, yes default","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/problems.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve parsing problems — orbi_get_problems","text":"tibble data frame list problems encountered ","code":""},{"path":"https://isoorbi.isoverse.org/dev/reference/problems.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve parsing problems — orbi_get_problems","text":"","code":"orbi_find_raw(system.file(\"extdata\", package = \"isoorbi\"))[1] |>   orbi_read_raw() |>   orbi_get_problems() #> ! Could not find the executable for the RAW file reader: #>   'rawrr.exe' not found. Run 'rawrr::installRawrrExe()'. For more information, #>   type '?rawrr.exe'. #> → Trying to install rawrr.exe (this requires an internet connection and may #>   take a moment)... #> Overwrite sourceUrl to https://fgcz-ms.uzh.ch/~cpanse/rawrr/dotnet//linux-x64/rawrr #> MD5 c51e3eb46ba5633b9763e94e9d09769c /home/runner/.cache/R/rawrr/rawrrassembly/linux-x64/rawrr #> ✔ [722ms] orbi_read_raw() read nitrate_test_10scans.raw (124.68 kB) #> # A tibble: 0 × 5 #> # ℹ 5 variables: uid <fct>, type <chr>, call <chr>, message <chr>, #> #   condition <list>   orbi_find_raw(system.file(\"extdata\", package = \"isoorbi\"))[1] |>   orbi_read_raw() |>   orbi_show_problems() #> ✔ [31ms] orbi_read_raw() read nitrate_test_10scans.raw from cache"},{"path":[]},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"breaking-changes-1-4-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"isoorbi 1.4.0","text":"breaking changes release (changes new features backwards compatible).","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"new-features-1-4-0","dir":"Changelog","previous_headings":"","what":"New features","title":"isoorbi 1.4.0","text":"implemented direct reading caching orbitrap IRMS raw files (orbi_read_read()) use CLI clearer informative info messages functions","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"enhancements-1-4-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"isoorbi 1.4.0","text":"renamed package “settings” package “options” consistent naming conventions base R (orbi_options() replaces orbi_set_settings() orbi_get_options() / orbi_get_option() replaces orbi_get_settings()) improved functionality options loading defaults","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"isoorbi-131","dir":"Changelog","previous_headings":"","what":"isoorbi 1.3.1","title":"isoorbi 1.3.1","text":"CRAN release: 2024-08-27 patch containing compatibility updates.","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"isoorbi-130","dir":"Changelog","previous_headings":"","what":"isoorbi 1.3.0","title":"isoorbi 1.3.0","text":"CRAN release: 2023-11-09 minor release adding new features.","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"breaking-changes-1-3-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"isoorbi 1.3.0","text":"breaking changes release (changes new features backwards compatible).","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"new-features-1-3-0","dir":"Changelog","previous_headings":"","what":"New features","title":"isoorbi 1.3.0","text":"Plotting functions: orbi_plot_satellite_peaks() implemented orbi_plot_isotopocule_coverage() implemented orbi_plot_raw_data() implemented Information functions: orbi_get_isotopocule_coverage()","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"enhancements-1-3-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"isoorbi 1.3.0","text":"orbi_simplify_isox() now includes intensity default allows addition user-specified columns orbi_flag_satellite_peaks(), orbi_flag_weak_isotopocules() orbi_flag_outliers() now provide additional information data flagged visualize flagged (anything)","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"bug-fixes-1-3-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"isoorbi 1.3.0","text":"orbi_add_blocks_to_plot() now supports log scale axes","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"isoorbi-120","dir":"Changelog","previous_headings":"","what":"isoorbi 1.2.0","title":"isoorbi 1.2.0","text":"minor release adding new features.","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"breaking-changes-1-2-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"isoorbi 1.2.0","text":"breaking changes release (changes new features backwards compatible).","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"new-features-1-2-0","dir":"Changelog","previous_headings":"","what":"New features","title":"isoorbi 1.2.0","text":"orbi_find_isox() added orbi_analyze_noise() implemented orbi_plot_shot_noise() implemented orbi_flag_satellite_peaks(), orbi_flag_weak_isotopocules() orbi_flag_outliers() supersede orbi_filter_satellite_peaks(), orbi_filter_weak_isotopocules() orbi_filter_scan_intensity() orbi_export_data_to_excel() implemented orbi_define_block_for_flow_injection() implemented orbi_add_blocks_to_plot() implemented","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"enhancements-1-2-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"isoorbi 1.2.0","text":"loading utility functions provide details info message done, affected, long took loading utility functions catch processing errors report information back user orbi_read_isox() now can read multiple .isox files includes .isox filepath resulting tibble","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"bug-fixes-1-2-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"isoorbi 1.2.0","text":"data frame groupings introduced flagging/filtering functions now removed end function","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"isoorbi-110","dir":"Changelog","previous_headings":"","what":"isoorbi 1.1.0","title":"isoorbi 1.1.0","text":"CRAN release: 2023-06-24 minor release adding new features fixing bugs.","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"breaking-changes-1-1-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"isoorbi 1.1.0","text":"breaking changes release (changes new features backwards compatible).","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"new-features-1-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"isoorbi 1.1.0","text":"implemented functionality dual inlet data acquisitions, see orbi_define_blocks_for_dual_inlet() orbi_get_blocks_info() implemented package settings, using internal functions isoorbi::orbi_get_settings, isoorbi::orbi_set_settings","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"enhancements-1-1-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"isoorbi 1.1.0","text":"removed dependency stringr implemented native pipe |> (R version requirement increased 4.1.0) removed dependency magrittr added .parameter orbi_summarize_results() option manually adjust grouping","code":""},{"path":"https://isoorbi.isoverse.org/dev/news/index.html","id":"bug-fixes-1-1-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"isoorbi 1.1.0","text":"dplyr changes joins explicit multiple argument. multiple now defaults “”, options “error” “warning” now deprecated favor using relationship.","code":""}]
