<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate ions from intensities — orbi_calculate_ions • isoorbi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate ions from intensities — orbi_calculate_ions"><meta name="description" content="This functions calculates ions (ions.incremental) from intensities based on the equation $$N_{ions} = S/N \cdot{} C_N/z \cdot{} \sqrt{R_N/R} \cdot \sqrt{N_{MS}}$$
where S is the reported signal (intensity) of the isotopocule, N is the noise associated with the signal (peakNoise),
measured at the resolution setting R (resolution), the noise factor \(C_N\) (CN) is the number of charges corresponding to the Orbitrap noise band
at some reference resolution \(R_N\) (RN), \(N_{MS}\) is the number of microscans, and z is the charge per ion (charge) of the isotopocule.
See Makarov and Denisov (2009) and Eiler et al. (2017) for details about this equation. The default values for CN and RN are from the
Orbitrap Exploris Isotope Solutions Getting Started Guide (BRE0032999, Revision A, October 2022). Note that the exact values of these factors are
only critical if the number of ions are interpreted outside of ratio calculations (in ratio calculations, these factors cancel)."><meta property="og:description" content="This functions calculates ions (ions.incremental) from intensities based on the equation $$N_{ions} = S/N \cdot{} C_N/z \cdot{} \sqrt{R_N/R} \cdot \sqrt{N_{MS}}$$
where S is the reported signal (intensity) of the isotopocule, N is the noise associated with the signal (peakNoise),
measured at the resolution setting R (resolution), the noise factor \(C_N\) (CN) is the number of charges corresponding to the Orbitrap noise band
at some reference resolution \(R_N\) (RN), \(N_{MS}\) is the number of microscans, and z is the charge per ion (charge) of the isotopocule.
See Makarov and Denisov (2009) and Eiler et al. (2017) for details about this equation. The default values for CN and RN are from the
Orbitrap Exploris Isotope Solutions Getting Started Guide (BRE0032999, Revision A, October 2022). Note that the exact values of these factors are
only critical if the number of ions are interpreted outside of ratio calculations (in ratio calculations, these factors cancel)."><meta property="og:image" content="https://isoorbi.isoverse.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">isoorbi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html#show-me-some-code">Quick Start</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/functionality_guide.html">Functionality Guide</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples"><li><h6 class="dropdown-header" data-toc-skip>Isoorbi package</h6></li>
    <li><a class="dropdown-item" href="../articles/dual_inlet.html">Dual inlet analysis</a></li>
    <li><a class="dropdown-item" href="../articles/flow_injection.html">Flow injection analysis</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Kantnerová et al. 2024</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.isoverse.org/2024_kantnerova_et_al/shot_noise.html">Shot noise analysis</a></li>
    <li><a class="external-link dropdown-item" href="https://www.isoverse.org/2024_kantnerova_et_al/replicates.html">Replicates analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/isoverse/isoorbi"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate ions from intensities</h1>
      <small class="dont-index">Source: <a href="https://github.com/isoverse/isoorbi/blob/v1.5.2/R/ratio_functions.R" class="external-link"><code>R/ratio_functions.R</code></a></small>
      <div class="d-none name"><code>orbi_calculate_ions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This functions calculates ions (<code>ions.incremental</code>) from intensities based on the equation $$N_{ions} = S/N \cdot{} C_N/z \cdot{} \sqrt{R_N/R} \cdot \sqrt{N_{MS}}$$
where S is the reported signal (<code>intensity</code>) of the isotopocule, N is the noise associated with the signal (<code>peakNoise</code>),
measured at the resolution setting R (<code>resolution</code>), the noise factor \(C_N\) (<code>CN</code>) is the number of charges corresponding to the Orbitrap noise band
at some reference resolution \(R_N\) (<code>RN</code>), \(N_{MS}\) is the number of microscans, and z is the charge per ion (<code>charge</code>) of the isotopocule.
See Makarov and Denisov (2009) and Eiler et al. (2017) for details about this equation. The default values for <code>CN</code> and <code>RN</code> are from the
Orbitrap Exploris Isotope Solutions Getting Started Guide (BRE0032999, Revision A, October 2022). Note that the exact values of these factors are
only critical if the number of ions are interpreted outside of ratio calculations (in ratio calculations, these factors cancel).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orbi_calculate_ions</span><span class="op">(</span><span class="va">dataset</span>, CN <span class="op">=</span> <span class="fl">3</span>, RN <span class="op">=</span> <span class="fl">240000</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dataset">dataset<a class="anchor" aria-label="anchor" href="#arg-dataset"></a></dt>
<dd><p>An aggregated dataset or a data frame of peaks (i.e. works directly after <code><a href="orbi_identify_isotopocules.html">orbi_identify_isotopocules()</a></code> as well as with a tibble from <a href="orbi_get_data.html">orbi_get_data(peaks = everything())</a> or when reading from an IsoX file)</p></dd>


<dt id="arg-cn">CN<a class="anchor" aria-label="anchor" href="#arg-cn"></a></dt>
<dd><p>noise factor</p></dd>


<dt id="arg-rn">RN<a class="anchor" aria-label="anchor" href="#arg-rn"></a></dt>
<dd><p>reference resolution of the noise factor</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>same object as provided in <code>dataset</code> with new column <code>ions.incremental</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If using a dataset read from isox files you might have to add a <code>charge</code> column if it does not yet exist that indicates the charge of the isotopocule.
If using data from raw files, <code><a href="orbi_identify_isotopocules.html">orbi_identify_isotopocules()</a></code> will automatically call this function with the default <code>CN</code> and <code>RN</code> so you don't need to
call it explicitly unless you want to change these parameters.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Caj Neubauer, Sebastian Kopf, Kristýna Kantnerová.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

